function httpSuccess(n,t){var i=n.data;if(i)switch(i.StatusCode){case 200:t.resolve(i);break;case 403:t.reject();$location.path("/seguranca/acesso/login");break;default:t.reject(i);i.ErrorMessage&&i.ShowError&&alert(i.ErrorMessage);i.RedirectTo&&$location.path(i.RedirectTo)}else $location.path("/seguranca/acesso/login")}function httpError(n,t){t.reject()}function _init(){"use strict";$.AdminLTE.layout={activate:function(){var n=this;n.fix();n.fixSidebar();$(window,".wrapper").resize(function(){n.fix();n.fixSidebar()})},fix:function(){var u=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),n=$(window).height(),i=$(".sidebar").height(),r,t;$("body").hasClass("fixed")?$(".content-wrapper, .right-side").css("min-height",n-$(".main-footer").outerHeight()):(n>=i?($(".content-wrapper, .right-side").css("min-height",n-u),r=n-u):($(".content-wrapper, .right-side").css("min-height",i),r=i),t=$($.AdminLTE.options.controlSidebarOptions.selector),typeof t!="undefined"&&t.height()>r&&$(".content-wrapper, .right-side").css("min-height",t.height()))},fixSidebar:function(){if($("body").hasClass("fixed"))typeof $.fn.slimScroll=="undefined"&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!");else{typeof $.fn.slimScroll!="undefined"&&$(".sidebar").slimScroll({destroy:!0}).height("auto");return}$.AdminLTE.options.sidebarSlimScroll&&typeof $.fn.slimScroll!="undefined"&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))}};$.AdminLTE.pushMenu={activate:function(n){var t=$.AdminLTE.options.screenSizes;$(document).on("click",n,function(n){n.preventDefault();$(window).width()>t.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")});$(".content-wrapper").click(function(){$(window).width()<=t.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")});($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var n=this,t=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>t&&n.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>t&&n.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}};$.AdminLTE.tree=function(n){var i=this,t=$.AdminLTE.options.animationSpeed;$(document).off("click",n+" li a").on("click",n+" li a",function(n){var u=$(this),r=u.next(),f,e,o;r.is(".treeview-menu")&&r.is(":visible")&&!$("body").hasClass("sidebar-collapse")?(r.slideUp(t,function(){r.removeClass("menu-open")}),r.parent("li").removeClass("active")):r.is(".treeview-menu")&&!r.is(":visible")&&(f=u.parents("ul").first(),e=f.find("ul:visible").slideUp(t),e.removeClass("menu-open"),o=u.parent("li"),r.slideDown(t,function(){r.addClass("menu-open");f.find("li.active").removeClass("active");o.addClass("active");i.layout.fix()}));r.is(".treeview-menu")&&n.preventDefault()})};$.AdminLTE.controlSidebar={activate:function(){var t=this,i=$.AdminLTE.options.controlSidebarOptions,n=$(i.selector),u=$(i.toggleBtnSelector),r;u.on("click",function(r){r.preventDefault();n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?t.close(n,i.slide):t.open(n,i.slide)});r=$(".control-sidebar-bg");t._fix(r);$("body").hasClass("fixed")?t._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&t._fixForContent(n)},open:function(n,t){t?n.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(n,t){t?n.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(n){var t=this;if($("body").hasClass("layout-boxed")){if(n.css("position","absolute"),n.height($(".wrapper").height()),t.hasBindedResize)return;$(window).resize(function(){t._fix(n)});t.hasBindedResize=!0}else n.css({position:"fixed",height:"auto"})},_fixForFixed:function(n){n.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(n){$(".content-wrapper, .right-side").css("min-height",n.height())}};$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(n){var t=this;n||(n=document);$(n).on("click",t.selectors.collapse,function(n){n.preventDefault();t.collapse($(this))});$(n).on("click",t.selectors.remove,function(n){n.preventDefault();t.remove($(this))})},collapse:function(n){var t=this,i=n.parents(".box").first(),r=i.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");i.hasClass("collapsed-box")?(n.children(":first").removeClass(t.icons.open).addClass(t.icons.collapse),r.slideDown(t.animationSpeed,function(){i.removeClass("collapsed-box")})):(n.children(":first").removeClass(t.icons.collapse).addClass(t.icons.open),r.slideUp(t.animationSpeed,function(){i.addClass("collapsed-box")}))},remove:function(n){var t=n.parents(".box").first();t.slideUp(this.animationSpeed)}}}Array.prototype.clear=function(){while(this.length)this.pop()};Array.prototype.hasErrorFor=function(n){for(var i=!1,t=0;t<this.length;++t)if(this[t].For==n){i=!0;break}return i};Array.prototype.find=function(n,t){for(var i,f,u,e=null,r=0;r<this.length;++r){for(i=this[r],f=n.split("."),u=0;u<f.length;++u)i&&(i=i[f[u]]);if(i===t){e=this[r];break}}return e};Array.prototype.findAll=function(n,t){for(var r,u=[],i=0;i<this.length;++i)r=this[i],r[n]==t&&u.push(r);return u};Array.prototype.findAllNot=function(n,t){var u=[],i,r;if(Array.isArray(t))for(i=0;i<this.length;++i)r=this[i],t.indexOf(r[n])==-1&&u.push(r);else for(i=0;i<this.length;++i)r=this[i],r[n]!=t&&u.push(r);return u};Array.prototype.select=function(n){for(var u,f,t,e,i=[],o=n.length>1,r=0;r<this.length;++r)if(u=this[r],o){for(f={},t=0;t<n.length;++t)e=n[t],f[e.toString()]=u[e];i.push(f)}else i.push(u[n[0]]);return i};Array.prototype.updateAll=function(n,t){for(var r,i=0;i<this.length;++i)r=this[i],r[n]&&(r[n]=t)};Array.prototype.remove=function(n){for(var i,r,t=0;t<n.length;++t)i=n[t],r=this.indexOf(i),this.splice(r,1)};Array.prototype.orderBy=function(n,t){return t?this.sort(function(t,i){return t[n]<i[n]}):this.sort(function(t,i){return t[n]>i[n]}),this};Array.prototype.max=function(n){return Math.max.apply(Math,this.map(function(t){return t[n]}))};Array.prototype.min=function(n){return Math.min.apply(Math,this.map(function(t){return t[n]}))};String.prototype.toDateTime=function(){var n="";return Array.isArray(this)||this.toString().length==8&&(n=this.substring(0,2)+"/"+this.substring(2,4)+"/"+this.substring(4,8)),n};String.prototype.format=function(){var n;return n=arguments,n.length===1&&n[0]!==null&&typeof n[0]=="object"&&(n=n[0]),this.replace(/{([^}]*)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})};String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};app.factory("HttpService",["$q","$http","$location",function(n,t){function r(t,i,r,u){var f=n.defer();return $.ajax({cache:!1,method:t,url:i,params:r,async:u,success:function(n){f.resolve(n)},error:function(){f.reject()}}),f.promise}function i(i,r,u,f){var e=n.defer(),o=t.defaults.headers.common,s;t.defaults.useXDomain=!0;o["Content-Type"]="application/json";switch(i.toLowerCase()){case"post":s=$('input[name="__RequestVerificationToken"]').val();o.__RequestVerificationToken=s;t({method:"POST",url:r,data:u,async:f}).then(function(n){httpSuccess(n,e)},function(n){httpError(n,e)});break;case"get":t({method:"GET",url:r,params:u}).then(function(n){httpSuccess(n,e)},function(n){httpError(n,e)})}return e.promise}return{post:function(n,t){return i("POST",n,t,!0)},get:function(n,t){return i("GET",n,t,!0)},syncPost:function(n,t){return i("POST",n,t,!1)},syncGet:function(n,t){return i("GET",n,t,!1)},simpleGet:function(n,t){return r("GET",n,t,!0)}}}]);var urlService=function(){var n={};return n.getQueryVariable=function(n){for(var i,f=window.location.search.substring(1),r=f.split("&"),u="",t=0;t<r.length;t++)i=r[t].split("="),i[0]==n&&(u=i[1]);return u},n};if(urlService.$inject=["$parse"],app.factory("UrlService",urlService),app.filter("fromNow",function(){return function(n){return moment(n).fromNow()}}),function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return f({type:u.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return(r||(r=i()),t=n("#"+r.containerId),t.length)?t:(u&&(t=nt(r)),t)}function y(n,t,r){return f({type:u.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){e=n}function w(n,t,r){return f({type:u.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return f({type:u.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n,u){var f=i();t||r(f);l(n,f,u)||g(f)}function d(u){var f=i();if(t||r(f),u&&n(":focus",u).length===0){s(u);return}t.children().length&&t.remove()}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)l(n(u[r]),i)}function l(t,i,r){var u=r&&r.force?r.force:!1;return t&&(u||n(":focus",t).length===0)?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){s(t)}}),!0):!1}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;<\/button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function a(n){e&&e(n)}function f(u){function g(){it();ut();ft();et();ot();rt()}function nt(){e.hover(ct,ht);!f.onclick&&f.tapToDismiss&&e.click(v);f.closeButton&&y&&y.click(function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble!==undefined&&n.cancelBubble!==!0&&(n.cancelBubble=!0);v(!0)});f.onclick&&e.click(function(){f.onclick();v()})}function tt(){e.hide();e[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown});f.timeOut>0&&(w=setTimeout(v,f.timeOut),c.maxHideTime=parseFloat(f.timeOut),c.hideEta=(new Date).getTime()+c.maxHideTime,f.progressBar&&(c.intervalId=setInterval(lt,10)))}function it(){u.iconClass&&e.addClass(f.toastClass).addClass(p)}function rt(){f.newestOnTop?t.prepend(e):t.append(e)}function ut(){u.title&&(k.append(u.title).addClass(f.titleClass),e.append(k))}function ft(){u.message&&(d.append(u.message).addClass(f.messageClass),e.append(d))}function et(){f.closeButton&&(y.addClass("toast-close-button").attr("role","button"),e.prepend(y))}function ot(){f.progressBar&&(b.addClass("toast-progress"),e.prepend(b))}function st(n,t){if(n.preventDuplicates){if(t.message===o)return!0;o=t.message}return!1}function v(t){if(!n(":focus",e).length||t)return clearTimeout(c.intervalId),e[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){s(e);f.onHidden&&l.state!=="hidden"&&f.onHidden();l.state="hidden";l.endTime=new Date;a(l)}})}function ht(){(f.timeOut>0||f.extendedTimeOut>0)&&(w=setTimeout(v,f.extendedTimeOut),c.maxHideTime=parseFloat(f.extendedTimeOut),c.hideEta=(new Date).getTime()+c.maxHideTime)}function ct(){clearTimeout(w);c.hideEta=0;e.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function lt(){var n=(c.hideEta-(new Date).getTime())/c.maxHideTime*100;b.width(n+"%")}var f=i(),p=u.iconClass||f.iconClass;if(typeof u.optionsOverride!="undefined"&&(f=n.extend(f,u.optionsOverride),p=u.optionsOverride.iconClass||p),!st(f,u)){h++;t=r(f,!0);var w=null,e=n("<div/>"),k=n("<div/>"),d=n("<div/>"),b=n("<div/>"),y=n(f.closeHtml),c={intervalId:null,hideEta:null,maxHideTime:null},l={toastId:h,state:"visible",startTime:new Date,options:f,map:u};return g(),tt(),nt(),a(l),f.debug&&console&&console.log(l),e}}function i(){return n.extend({},tt(),c.options)}function s(n){(t||(t=r()),n.is(":visible"))||(n.remove(),n=null,t.children().length===0&&(t.remove(),o=undefined))}var t,e,h=0,u={error:"error",info:"info",success:"success",warning:"warning"},c={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.1",warning:b},o;return c}()})}(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(n){"use strict";function ei(){}function o(n){if(!n||typeof n!="object")return!1;var t=ct(n)||f;return/object|function/.test(typeof t.Element)?n instanceof t.Element:n.nodeType===1&&typeof n.nodeName=="string"}function rr(n){return n===f||!!(n&&n.Window)&&n instanceof n.Window}function nu(n){return!!n&&n instanceof pu}function ti(n){return h(n)&&typeof n.length!==undefined&&c(n.splice)}function h(n){return!!n&&typeof n=="object"}function c(n){return typeof n=="function"}function k(n){return typeof n=="number"}function b(n){return typeof n=="boolean"}function tt(n){return typeof n=="string"}function ii(n){return tt(n)?(rt.querySelector(n),!0):!1}function s(n,t){for(var i in t)n[i]=t[i];return n}function ai(n,t){var i,r,u;for(i in t){r=!1;for(u in li)if(i.indexOf(u)===0&&li[u].test(i)){r=!0;break}r||(n[i]=t[i])}return n}function vi(n,t){n.page=n.page||{};n.page.x=t.page.x;n.page.y=t.page.y;n.client=n.client||{};n.client.x=t.client.x;n.client.y=t.client.y;n.timeStamp=t.timeStamp}function gu(n,t,i){var r=t.length>1?uu(t):t[0];ur(r,kt,i);n.page.x=kt.x;n.page.y=kt.y;ru(r,kt,i);n.client.x=kt.x;n.client.y=kt.y;n.timeStamp=(new Date).getTime()}function tu(n,t,i){n.page.x=i.page.x-t.page.x;n.page.y=i.page.y-t.page.y;n.client.x=i.client.x-t.client.x;n.client.y=i.client.y-t.client.y;n.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(n.timeStamp/1e3,.001);n.page.speed=bt(n.page.x,n.page.y)/r;n.page.vx=n.page.x/r;n.page.vy=n.page.y/r;n.client.speed=bt(n.client.x,n.page.y)/r;n.client.vx=n.client.x/r;n.client.vy=n.client.y/r}function iu(n){return n instanceof f.Event||gt&&f.Touch&&n instanceof f.Touch}function yi(n,t,i){return i=i||{},n=n||"page",i.x=t[n+"X"],i.y=t[n+"Y"],i}function ur(n,t){return t=t||{},gr&&iu(n)?(yi("screen",n,t),t.x+=f.scrollX,t.y+=f.scrollY):yi("page",n,t),t}function ru(n,t){return t=t||{},gr&&iu(n)?yi("screen",n,t):yi("client",n,t),t}function nf(n){return n=n||f,{x:n.scrollX||n.document.documentElement.scrollLeft,y:n.scrollY||n.document.documentElement.scrollTop}}function it(n){return k(n.pointerId)?n.pointerId:n.identifier}function fr(n){return n instanceof bu?n.correspondingUseElement:n}function ct(n){if(rr(n))return n;var t=n.ownerDocument||n;return t.defaultView||t.parentWindow||f}function er(n){var t=n instanceof br?n.getBoundingClientRect():n.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function pi(n){var t=er(n),i;return!du&&t&&(i=nf(ct(n)),t.left+=i.x,t.right+=i.x,t.top+=i.y,t.bottom+=i.y),t}function or(n){var t=[];return ti(n)?(t[0]=n[0],t[1]=n[1]):n.type==="touchend"?n.touches.length===1?(t[0]=n.touches[0],t[1]=n.changedTouches[0]):n.touches.length===0&&(t[0]=n.changedTouches[0],t[1]=n.changedTouches[1]):(t[0]=n.touches[0],t[1]=n.touches[1]),t}function uu(n){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i,r=0;r<n.length;r++)for(i in t)t[i]+=n[r][i];for(i in t)t[i]/=n.length;return t}function sr(n){if(n.length||n.touches&&n.touches.length>1){var t=or(n),i=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),u=Math.max(t[0].pageX,t[1].pageX),f=Math.max(t[0].pageY,t[1].pageY);return{x:i,y:r,left:i,top:r,width:u-i,height:f-r}}}function hr(n,t){t=t||y.deltaSource;var r=t+"X",u=t+"Y",i=or(n),f=i[0][r]-i[1][r],e=i[0][u]-i[1][u];return bt(f,e)}function cr(n,t,i){var s,u;i=i||y.deltaSource;var e=i+"X",o=i+"Y",f=or(n),h=f[0][e]-f[1][e],c=f[0][o]-f[1][o],r=180*Math.atan(c/h)/Math.PI;return k(t)&&(s=r-t,u=s%360,u>315?r-=360+r/360|0:u>135?r-=180+r/360|0:u<-315?r+=360+r/360|0:u<-135&&(r+=180+r/360|0)),r}function oi(n,t){var i=n?n.options.origin:y.origin;return i==="parent"?i=d(t):i==="self"?i=n.getRect(t):ii(i)&&(i=lr(t,i)||{x:0,y:0}),c(i)&&(i=i(n&&t)),o(i)&&(i=pi(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function fu(n,t,i,r){var u=1-n;return u*u*t+2*u*n*i+n*n*r}function tf(n,t,i,r,u,f,e){return{x:fu(e,n,i,u),y:fu(e,t,r,f)}}function eu(n,t,i,r){return n/=r,-i*n*(n-2)+t}function yt(n,t){while(t){if(t===n)return!0;t=t.parentNode}return!1}function lr(n,t){for(var i=d(n);o(i);){if(ft(i,t))return i;i=d(i)}return null}function d(n){var t=n.parentNode;if(nu(t)){while((t=t.host)&&nu(t));return t}return t}function wi(n,t){return n._context===t.ownerDocument||yt(n._context,t)}function pt(n,t,i){var r=n.options.ignoreFrom;return!r||!o(i)?!1:tt(r)?wr(i,r,t):o(r)?yt(r,i):!1}function wt(n,t,i){var r=n.options.allowFrom;return r?o(i)?tt(r)?wr(i,r,t):o(r)?yt(r,i):!1:!1:!0}function ou(n,t){if(!t)return!1;var i=t.options.drag.axis;return n==="xy"||i==="xy"||i===n}function ar(n,t){var i=n.options;return/^resize/.test(t)&&(t="resize"),i[t].snap&&i[t].snap.enabled}function vr(n,t){var i=n.options;return/^resize/.test(t)&&(t="resize"),i[t].restrict&&i[t].restrict.enabled}function rf(n,t){var i=n.options;return/^resize/.test(t)&&(t="resize"),i[t].autoScroll&&i[t].autoScroll.enabled}function ri(n,t,i){for(var f=n.options,l=f[i.name].max,a=f[i.name].maxPerElement,o=0,s=0,h=0,u=0,v=e.length;u<v;u++){var r=e[u],c=r.prepared.name,y=r.interacting();if(y){if(o++,o>=hi)return!1;if(r.target===n&&((s+=c===i.name|0,s>=l)||r.element===t&&(h++,c!==i.name||h>=a)))return!1}}return hi>0}function uf(n){for(var t,r=n[0],h=r?0:-1,i,s=[],e=[],o,u,c,f=1;f<n.length;f++)if(t=n[f],t&&t!==r){if(!r){r=t;h=f;continue}if(t.parentNode===t.ownerDocument)continue;else if(r.parentNode===t.ownerDocument){r=t;h=f;continue}if(!s.length)for(i=r;i.parentNode&&i.parentNode!==i.ownerDocument;)s.unshift(i),i=i.parentNode;if(r instanceof ku&&t instanceof br&&!(t instanceof wu)){if(t===r.parentNode)continue;i=t.ownerSVGElement}else i=t;for(e=[];i.parentNode!==i.ownerDocument;)e.unshift(i),i=i.parentNode;for(u=0;e[u]&&e[u]===s[u];)u++;for(c=[e[u-1],e[u],s[u]],o=c[0].lastChild;o;){if(o===c[1]){r=t;h=f;s=[];break}else if(o===c[2])break;o=o.previousSibling}}return h}function bi(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},c(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var n=this;this.boundInertiaFrame=function(){return n.inertiaFrame()};this.boundSmoothEndFrame=function(){return n.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]};this.pointers=[];this.pointerIds=[];this.downTargets=[];this.downTimes=[];this.holdTimers=[];this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0};this.downEvent=null;this.downPointer={};this._eventTarget=null;this._curEventTarget=null;this.prevEvent=null;this.tapTime=0;this.prevTap=null;this.startOffset={left:0,right:0,top:0,bottom:0};this.restrictOffset={left:0,right:0,top:0,bottom:0};this.snapOffsets=[];this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0};this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1};this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1};this.restrictStatus.snap=this.snapStatus;this.pointerIsDown=!1;this.pointerWasMoved=!1;this.gesturing=!1;this.dragging=!1;this.resizing=!1;this.resizeAxes="xy";this.mouse=!1;e.push(this)}function su(n,t,i){var r=0,f=e.length,s=/mouse/i.test(n.pointerType||t)||n.pointerType===4,u,h=it(n),o;if(/down|start/i.test(t))for(r=0;r<f;r++)if(u=e[r],o=i,u.inertiaStatus.active&&u.target.options[u.prepared.name].inertia.allowResume&&u.mouse===s)while(o){if(o===u.element)return u;o=d(o)}if(s||!(gt||ui)){for(r=0;r<f;r++)if(e[r].mouse&&!e[r].inertiaStatus.active)return e[r];for(r=0;r<f;r++)if(e[r].mouse&&!(/down/.test(t)&&e[r].inertiaStatus.active))return u;return u=new bi,u.mouse=!0,u}for(r=0;r<f;r++)if(st(e[r].pointerIds,h))return e[r];if(/up|end|out/i.test(t))return null;for(r=0;r<f;r++)if(u=e[r],(!u.prepared.name||u.target.options.gesture.enabled)&&!u.interacting()&&!(!s&&u.mouse))return u;return new bi}function hu(n){return function(t){var r,u=fr(t.path?t.path[0]:t.target),f=fr(t.currentTarget),i,o;if(gt&&/touch/.test(t.type))for(kr=(new Date).getTime(),i=0;i<t.changedTouches.length;i++)(o=t.changedTouches[i],r=su(o,t.type,u),r)&&(r._updateEventTargets(u,f),r[n](o,t,u,f));else{if(!ui&&/mouse/.test(t.type)){for(i=0;i<e.length;i++)if(!e[i].mouse&&e[i].pointerIsDown)return;if((new Date).getTime()-kr<500)return}if(r=su(t,t.type,u),!r)return;r._updateEventTargets(u,f);r[n](t,t,u,f)}}}function p(n,t,i,r,u,f){var e,o,v=n.target,h=n.snapStatus,k=n.restrictStatus,w=n.pointers,l=(v&&v.options||y).deltaSource,ut=l+"X",ft=l+"Y",d=v?v.options:y,b=oi(v,u),g=r==="start",tt=r==="end",et=g?n.startCoords:n.curCoords,it,nt,c,a;if(u=u||n.element,o=s({},et.page),e=s({},et.client),o.x-=b.x,o.y-=b.y,e.x-=b.x,e.y-=b.y,it=d[i].snap&&d[i].snap.relativePoints,!ar(v,i)||g&&it&&it.length||(this.snap={range:h.range,locked:h.locked,x:h.snappedX,y:h.snappedY,realX:h.realX,realY:h.realY,dx:h.dx,dy:h.dy},h.locked&&(o.x+=h.dx,o.y+=h.dy,e.x+=h.dx,e.y+=h.dy)),!vr(v,i)||g&&d[i].restrict.elementRect||!k.restricted||(o.x+=k.dx,o.y+=k.dy,e.x+=k.dx,e.y+=k.dy,this.restrict={dx:k.dx,dy:k.dy}),this.pageX=o.x,this.pageY=o.y,this.clientX=e.x,this.clientY=e.y,this.x0=n.startCoords.page.x-b.x,this.y0=n.startCoords.page.y-b.y,this.clientX0=n.startCoords.client.x-b.x,this.clientY0=n.startCoords.client.y-b.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=u,this.t0=n.downTimes[0],this.type=i+(r||""),this.interaction=n,this.interactable=v,nt=n.inertiaStatus,nt.active&&(this.detail="inertia"),f&&(this.relatedTarget=f),tt?l==="client"?(this.dx=e.x-n.startCoords.client.x,this.dy=e.y-n.startCoords.client.y):(this.dx=o.x-n.startCoords.page.x,this.dy=o.y-n.startCoords.page.y):g?(this.dx=0,this.dy=0):r==="inertiastart"?(this.dx=n.prevEvent.dx,this.dy=n.prevEvent.dy):l==="client"?(this.dx=e.x-n.prevEvent.clientX,this.dy=e.y-n.prevEvent.clientY):(this.dx=o.x-n.prevEvent.pageX,this.dy=o.y-n.prevEvent.pageY),n.prevEvent&&n.prevEvent.detail==="inertia"&&!nt.active&&d[i].inertia&&d[i].inertia.zeroResumeDelta&&(nt.resumeDx+=this.dx,nt.resumeDy+=this.dy,this.dx=this.dy=0),i==="resize"&&n.resizeAxes?d.resize.square?(n.resizeAxes==="y"?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=n.resizeAxes,n.resizeAxes==="x"?this.dy=0:n.resizeAxes==="y"&&(this.dx=0)):i==="gesture"&&(this.touches=[w[0],w[1]],g?(this.distance=hr(w,l),this.box=sr(w),this.scale=1,this.ds=0,this.angle=cr(w,undefined,l),this.da=0):tt||t instanceof p?(this.distance=n.prevEvent.distance,this.box=n.prevEvent.box,this.scale=n.prevEvent.scale,this.ds=this.scale-1,this.angle=n.prevEvent.angle,this.da=this.angle-n.gesture.startAngle):(this.distance=hr(w,l),this.box=sr(w),this.scale=this.distance/n.gesture.startDistance,this.angle=cr(w,n.gesture.prevAngle,l),this.ds=this.scale-n.gesture.prevScale,this.da=this.angle-n.gesture.prevAngle)),g)this.timeStamp=n.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if(r==="inertiastart")this.timeStamp=n.prevEvent.timeStamp,this.dt=n.prevEvent.dt,this.duration=n.prevEvent.duration,this.speed=n.prevEvent.speed,this.velocityX=n.prevEvent.velocityX,this.velocityY=n.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-n.prevEvent.timeStamp,this.duration=this.timeStamp-n.downTimes[0],t instanceof p){var ot=this[ut]-n.prevEvent[ut],st=this[ft]-n.prevEvent[ft],rt=this.dt/1e3;this.speed=bt(ot,st)/rt;this.velocityX=ot/rt;this.velocityY=st/rt}else this.speed=n.pointerDelta[l].speed,this.velocityX=n.pointerDelta[l].vx,this.velocityY=n.pointerDelta[l].vy;if((tt||r==="inertiastart")&&n.prevEvent.speed>600&&this.timeStamp-n.prevEvent.timeStamp<150){c=180*Math.atan2(n.prevEvent.velocityY,n.prevEvent.velocityX)/Math.PI;a=22.5;c<0&&(c+=360);var ht=135-a<=c&&c<225+a,ct=225-a<=c&&c<315+a,lt=!ht&&(315-a<=c||c<45+a),at=!ct&&45-a<=c&&c<135+a;this.swipe={up:ct,down:at,left:ht,right:lt,angle:c,speed:n.prevEvent.speed,velocity:{x:n.prevEvent.velocityX,y:n.prevEvent.velocityY}}}}function cu(){this.originalEvent.preventDefault()}function lu(n){var i="",r,u,t;if(n.name==="drag"&&(i=ci.drag),n.name==="resize")if(n.axis)i=ci[n.name+n.axis];else if(n.edges){for(r="resize",u=["top","bottom","left","right"],t=0;t<4;t++)n.edges[u[t]]&&(r+=u[t]);i=ci[r]}return i}function ff(n,t,i,r,u,f,e){if(!t)return!1;if(t===!0){var s=k(f.width)?f.width:f.right-f.left,h=k(f.height)?f.height:f.bottom-f.top;if(s<0&&(n==="left"?n="right":n==="right"&&(n="left")),h<0&&(n==="top"?n="bottom":n==="bottom"&&(n="top")),n==="left")return i.x<(s>=0?f.left:f.right)+e;if(n==="top")return i.y<(h>=0?f.top:f.bottom)+e;if(n==="right")return i.x>(s>=0?f.right:f.left)-e;if(n==="bottom")return i.y>(h>=0?f.bottom:f.top)-e}return o(r)?o(t)?t===r:wr(r,t,u):!1}function au(n,t,i){var f=this.getRect(i),l=!1,e=null,p=null,r,a=s({},t.curCoords.page),u=this.options,o,c,v,y;if(!f)return null;if(ut.resize&&u.resize.enabled)if(o=u.resize,r={left:!1,right:!1,top:!1,bottom:!1},h(o.edges)){for(c in r)r[c]=ff(c,o.edges[c],a,t._eventTarget,i,f,o.margin||fi);r.left=r.left&&!r.right;r.top=r.top&&!r.bottom;l=r.left||r.right||r.top||r.bottom}else v=u.resize.axis!=="y"&&a.x>f.right-fi,y=u.resize.axis!=="x"&&a.y>f.bottom-fi,l=v||y,p=(v?"x":"")+(y?"y":"");return(e=l?"resize":ut.drag&&u.drag.enabled?"drag":null,ut.gesture&&t.pointerIds.length>=2&&!(t.dragging||t.resizing)&&(e="gesture"),e)?{name:e,axis:p,edges:r}:null}function lt(n,t){if(!h(n))return null;var i=n.name,r=t.options;return(i==="resize"&&r.resize.enabled||i==="drag"&&r.drag.enabled||i==="gesture"&&r.gesture.enabled)&&ut[i]?((i==="resize"||i==="resizeyx")&&(i="resizexy"),n):null}function si(n,t){var u={},e=nt[n.type],l=fr(n.path?n.path[0]:n.target),i=l,h,r,a,c,s,f;t=t?!0:!1;for(h in n)u[h]=n[h];for(u.originalEvent=n,u.preventDefault=cu;o(i);){for(r=0;r<e.selectors.length;r++)if(a=e.selectors[r],c=e.contexts[r],ft(i,a)&&yt(c,l)&&yt(c,i))for(s=e.listeners[r],u.currentTarget=i,f=0;f<s.length;f++)s[f][1]===t&&s[f][0](u);i=d(i)}}function gi(n){return si.call(this,n,!0)}function i(n,t){return l.get(n,t)||new a(n,t)}function a(n,i){var e,u;this._element=n;this._iEvents=this._iEvents||{};ii(n)?(this.selector=n,u=i&&i.context,e=u?ct(u):f,u&&(e.Node?u instanceof e.Node:o(u)||u===e.document)&&(this._context=u)):(e=ct(n),o(n,e)&&(at?(t.add(this._element,w.down,r.pointerDown),t.add(this._element,w.move,r.pointerHover)):(t.add(this._element,"mousedown",r.pointerDown),t.add(this._element,"mousemove",r.pointerHover),t.add(this._element,"touchstart",r.pointerDown),t.add(this._element,"touchmove",r.pointerHover))));this._doc=e.document;st(dt,this._doc)||yu(this._doc);l.push(this);this.set(i)}function g(n,t){var i=!1;return function(){return i||(f.console.warn(t),i=!0),n.apply(this,arguments)}}function vu(n){for(var t=0;t<e.length;t++)e[t].pointerEnd(n,n)}function yu(n){var f,o,u,s;if(!st(dt,n)){f=n.defaultView||n.parentWindow;for(o in nt)t.add(n,o,si),t.add(n,o,gi,!0);at?(w=at===f.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},t.add(n,w.down,r.selectorDown),t.add(n,w.move,r.pointerMove),t.add(n,w.over,r.pointerOver),t.add(n,w.out,r.pointerOut),t.add(n,w.up,r.pointerUp),t.add(n,w.cancel,r.pointerCancel),t.add(n,w.move,r.autoScrollMove)):(t.add(n,"mousedown",r.selectorDown),t.add(n,"mousemove",r.pointerMove),t.add(n,"mouseup",r.pointerUp),t.add(n,"mouseover",r.pointerOver),t.add(n,"mouseout",r.pointerOut),t.add(n,"touchstart",r.selectorDown),t.add(n,"touchmove",r.pointerMove),t.add(n,"touchend",r.pointerUp),t.add(n,"touchcancel",r.pointerCancel),t.add(n,"mousemove",r.autoScrollMove),t.add(n,"touchmove",r.autoScrollMove));t.add(f,"blur",vu);try{f.frameElement&&(u=f.frameElement.ownerDocument,s=u.defaultView,t.add(u,"mouseup",r.pointerEnd),t.add(u,"touchend",r.pointerEnd),t.add(u,"touchcancel",r.pointerEnd),t.add(u,"pointerup",r.pointerEnd),t.add(u,"MSPointerUp",r.pointerEnd),t.add(s,"blur",vu))}catch(h){i.windowParentError=h}t.add(n,"dragstart",function(n){for(var t,i=0;i<e.length;i++)if(t=e[i],t.element&&(t.element===n.target||yt(t.element,n.target))){t.checkAndPreventDefault(n,t.target,t.element);return}});t.useAttachEvent&&(t.add(n,"selectstart",function(n){var t=e[0];t.currentAction()&&t.checkAndPreventDefault(n)}),t.add(n,"dblclick",hu("ie8Dblclick")));dt.push(n)}}function v(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function st(n,t){return v(n,t)!==-1}function ft(t,i,r){return ni?ni(t,i,r):(f!==n&&(i=i.replace(/\/deep\//g," ")),t[ir](i))}function wr(n,t,i){while(o(n)){if(ft(n,t))return!0;if(n=d(n),n===i)return ft(n,t)}return!1}var li,r,yr,ki,di,pr;if(n){var f=function(){var t=n.document.createTextNode("");return t.ownerDocument!==n.document&&typeof n.wrap=="function"&&n.wrap(t)===t?n.wrap(n):n}(),rt=f.document,pu=f.DocumentFragment||ei,br=f.SVGElement||ei,wu=f.SVGSVGElement||ei,bu=f.SVGElementInstance||ei,ku=f.HTMLElement||f.Element,at=f.PointerEvent||f.MSPointerEvent,w,bt=Math.hypot||function(n,t){return Math.sqrt(n*n+t*t)},kt={},dt=[],l=[],e=[],nr=!1,nt={},y={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:rt,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:Infinity,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:Infinity,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:Infinity,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},u={interaction:null,i:null,x:0,y:0,scroll:function(){var n=u.interaction.target.options[u.interaction.prepared.name].autoScroll,t=n.container||ct(u.interaction.element),f=(new Date).getTime(),s=(f-u.prevTimeX)/1e3,h=(f-u.prevTimeY)/1e3,e,o,i,r;n.velocity?(e=n.velocity.x,o=n.velocity.y):e=o=n.speed;i=e*s;r=o*h;(i>=1||r>=1)&&(rr(t)?t.scrollBy(u.x*i,u.y*r):t&&(t.scrollLeft+=u.x*i,t.scrollTop+=u.y*r),i>=1&&(u.prevTimeX=f),r>=1&&(u.prevTimeY=f));u.isScrolling&&(ht(u.i),u.i=ot(u.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(n){u.isScrolling=!0;ht(u.i);u.interaction=n;u.prevTimeX=(new Date).getTime();u.prevTimeY=(new Date).getTime();u.i=ot(u.scroll)},stop:function(){u.isScrolling=!1;ht(u.i)}},gt="ontouchstart"in f||f.DocumentTouch&&rt instanceof f.DocumentTouch,ui=!!at,fi=gt||ui?20:10,tr=1,kr=0,hi=Infinity,ci=rt.all&&!f.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},ut={drag:!0,resize:!0,gesture:!0},dr="onmousewheel"in rt?"mousewheel":"wheel",vt=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],et={},gr=navigator.appName=="Opera"&&gt&&navigator.userAgent.match("Presto"),du=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),ir="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",ni,ot=n.requestAnimationFrame,ht=n.cancelAnimationFrame,t=function(){function h(u,f,s,h){var w=v(t,u),y=i[w],b;if(y||(y={events:{},typeCount:0},w=t.push(u)-1,i.push(y),r.push(n?{supplied:[],wrapped:[],useCount:[]}:null)),y.events[f]||(y.events[f]=[],y.typeCount++),!st(y.events[f],s)){if(n){var p=r[w],k=v(p.supplied,s),d=p.wrapped[k]||function(n){n.immediatePropagationStopped||(n.target=n.srcElement,n.currentTarget=u,n.preventDefault=n.preventDefault||c,n.stopPropagation=n.stopPropagation||l,n.stopImmediatePropagation=n.stopImmediatePropagation||a,/mouse|click/.test(n.type)&&(n.pageX=n.clientX+ct(u).document.documentElement.scrollLeft,n.pageY=n.clientY+ct(u).document.documentElement.scrollTop),s(n))};b=u[e](o+f,d,Boolean(h));k===-1?(p.supplied.push(s),p.wrapped.push(d),p.useCount.push(1)):p.useCount[k]++}else b=u[e](f,s,h||!1);return y.events[f].push(s),b}}function u(f,e,h,c){var a,w=v(t,f),l=i[w],y,p,k=h,b;if(l&&l.events){if(n&&(y=r[w],p=v(y.supplied,h),k=y.wrapped[p]),e==="all"){for(e in l.events)l.events.hasOwnProperty(e)&&u(f,e,"all");return}if(l.events[e]){if(b=l.events[e].length,h==="all"){for(a=0;a<b;a++)u(f,e,l.events[e][a],Boolean(c));return}for(a=0;a<b;a++)if(l.events[e][a]===h){f[s](o+e,k,c||!1);l.events[e].splice(a,1);n&&y&&(y.useCount[p]--,y.useCount[p]===0&&(y.supplied.splice(p,1),y.wrapped.splice(p,1),y.useCount.splice(p,1)));break}l.events[e]&&l.events[e].length===0&&(l.events[e]=null,l.typeCount--)}l.typeCount||(i.splice(w,1),t.splice(w,1),r.splice(w,1))}}function c(){this.returnValue=!1}function l(){this.cancelBubble=!0}function a(){this.cancelBubble=!0;this.immediatePropagationStopped=!0}var n="attachEvent"in f&&!("addEventListener"in f),e=n?"attachEvent":"addEventListener",s=n?"detachEvent":"removeEventListener",o=n?"on":"",t=[],i=[],r=[];return{add:h,remove:u,useAttachEvent:n,_elements:t,_targets:i,_attachedListeners:r}}();for(li={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/},bi.prototype={getPageXY:function(n,t){return ur(n,t,this)},getClientXY:function(n,t){return ru(n,t,this)},setEventXY:function(n,t){return gu(n,t,this)},pointerOver:function(n,i,u){function c(n,t){n&&wi(n,u)&&!pt(n,u,u)&&wt(n,u,u)&&ft(u,t)&&(o.push(n),s.push(u))}var f,e;if(!this.prepared.name&&this.mouse){var o=[],s=[],h=this.element;this.addPointer(n);this.target&&(pt(this.target,this.element,u)||!wt(this.target,this.element,u))&&(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);f=l.get(u);e=f&&!pt(f,u,u)&&wt(f,u,u)&&lt(f.getAction(n,i,this,u),f);e&&!ri(f,u,e)&&(e=null);e?(this.target=f,this.element=u,this.matches=[],this.matchElements=[]):(l.forEachSelector(c),this.validateSelector(n,i,o,s)?(this.matches=o,this.matchElements=s,this.pointerHover(n,i,this.matches,this.matchElements),t.add(u,at?w.move:"mousemove",r.pointerHover)):this.target&&(yt(h,u)?(this.pointerHover(n,i,this.matches,this.matchElements),t.add(this.element,at?w.move:"mousemove",r.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(n,t,i,r,u,f){var e=this.target,o;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,[n]),u?o=this.validateSelector(n,t,u,f):e&&(o=lt(e.getAction(this.pointers[0],t,this,this.element),this.target)),e&&e.options.styleCursor&&(e._doc.documentElement.style.cursor=o?lu(o):"")):this.prepared.name&&this.checkAndPreventDefault(t,e,this.element)},pointerOut:function(n,i,u){this.prepared.name||(l.get(u)||t.remove(u,at?w.move:"mousemove",r.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(n,i,r,u){function v(n,t,i){var u=ni?i.querySelectorAll(t):undefined;wi(n,f)&&!pt(n,f,r)&&wt(n,f,r)&&ft(f,t,u)&&(h.matches.push(n),h.matchElements.push(f))}var h=this,a=t.useAttachEvent?s({},i):i,f=r,c=this.addPointer(n),e;if(this.holdTimers[c]=setTimeout(function(){h.pointerHold(t.useAttachEvent?a:n,a,r,u)},y._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)while(o(f)){if(f===this.element&&lt(this.target.getAction(n,i,this,this.element),this.target).name===this.prepared.name){ht(this.inertiaStatus.i);this.inertiaStatus.active=!1;this.collectEventTargets(n,i,r,"down");return}f=d(f)}if(this.interacting()){this.collectEventTargets(n,i,r,"down");return}for(this.setEventXY(this.curCoords,[n]),this.downEvent=i;o(f)&&!e;)this.matches=[],this.matchElements=[],l.forEachSelector(v),e=this.validateSelector(n,i,this.matches,this.matchElements),f=d(f);if(e)return this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.collectEventTargets(n,i,r,"down"),this.pointerDown(n,i,r,u,e);this.downTimes[c]=(new Date).getTime();this.downTargets[c]=r;ai(this.downPointer,n);vi(this.prevCoords,this.curCoords);this.pointerWasMoved=!1;this.collectEventTargets(n,i,r,"down")},pointerDown:function(n,t,i,r,u){var s,f,h,o,e,c;if(!u&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name){this.checkAndPreventDefault(t,this.target,this.element);return}if(this.pointerIsDown=!0,this.downEvent=t,s=this.addPointer(n),this.pointerIds.length>1&&this.target._element===this.element?(h=lt(u||this.target.getAction(n,t,this,this.element),this.target),ri(this.target,this.element,h)&&(f=h),this.prepared.name=null):this.prepared.name||(o=l.get(r),o&&!pt(o,r,i)&&wt(o,r,i)&&(f=lt(u||o.getAction(n,t,this,r),o,i))&&ri(o,r,f)&&(this.target=o,this.element=r)),e=this.target,c=e&&e.options,e&&(u||!this.prepared.name)){if(f=f||lt(u||e.getAction(n,t,this,r),e,this.element),this.setEventXY(this.startCoords,this.pointers),!f)return;c.styleCursor&&(e._doc.documentElement.style.cursor=lu(f));this.resizeAxes=f.name==="resize"?f.axis:null;f==="gesture"&&this.pointerIds.length<2&&(f=null);this.prepared.name=f.name;this.prepared.axis=f.axis;this.prepared.edges=f.edges;this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN;this.downTimes[s]=(new Date).getTime();this.downTargets[s]=i;ai(this.downPointer,n);vi(this.prevCoords,this.startCoords);this.pointerWasMoved=!1;this.checkAndPreventDefault(t,e,this.element)}else this.inertiaStatus.active&&r===this.element&&lt(e.getAction(n,t,this,this.element),e).name===this.prepared.name&&(ht(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,e,this.element))},setModifications:function(n,t){var i=this.target,r=!0,f=ar(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||t),u=vr(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||t);return f?this.setSnapping(n):this.snapStatus.locked=!1,u?this.setRestriction(n):this.restrictStatus.restricted=!1,f&&this.snapStatus.locked&&!this.snapStatus.changed?r=u&&this.restrictStatus.restricted&&this.restrictStatus.changed:u&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(n,t,i){var r=t.getRect(i),c=oi(t,i),u=t.options[this.prepared.name].snap,f=t.options[this.prepared.name].restrict,o,s,h,e;if(r?(this.startOffset.left=this.startCoords.page.x-r.left,this.startOffset.top=this.startCoords.page.y-r.top,this.startOffset.right=r.right-this.startCoords.page.x,this.startOffset.bottom=r.bottom-this.startCoords.page.y,o="width"in r?r.width:r.right-r.left,s="height"in r?r.height:r.bottom-r.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0),h=u&&u.offset==="startCoords"?{x:this.startCoords.page.x-c.x,y:this.startCoords.page.y-c.y}:u&&u.offset||{x:0,y:0},r&&u&&u.relativePoints&&u.relativePoints.length)for(e=0;e<u.relativePoints.length;e++)this.snapOffsets.push({x:this.startOffset.left-o*u.relativePoints[e].x+h.x,y:this.startOffset.top-s*u.relativePoints[e].y+h.y});else this.snapOffsets.push(h);r&&f.elementRect?(this.restrictOffset.left=this.startOffset.left-o*f.elementRect.left,this.restrictOffset.top=this.startOffset.top-s*f.elementRect.top,this.restrictOffset.right=this.startOffset.right-o*(1-f.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-s*(1-f.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(n,t,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<(n.name==="gesture"?2:1)||(v(e,this)===-1&&e.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=n.name,this.prepared.axis=n.axis,this.prepared.edges=n.edges,this.target=t,this.element=i,this.setStartOffsets(n.name,t,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(n,t,i,r,u){var a,y,w,nt,f,e,s,et,b,c,ot;if(this.inertiaStatus.active){var k=this.inertiaStatus.upCoords.page,g=this.inertiaStatus.upCoords.client,st={pageX:k.x+this.inertiaStatus.sx,pageY:k.y+this.inertiaStatus.sy,clientX:g.x+this.inertiaStatus.sx,clientY:g.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[st])}else this.recordPointer(n),this.setEventXY(this.curCoords,this.pointers);if(a=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,nt=this.mouse?0:v(this.pointerIds,it(n)),this.pointerIsDown&&!this.pointerWasMoved&&(y=this.curCoords.client.x-this.startCoords.client.x,w=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=bt(y,w)>tr),a||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[nt]),this.collectEventTargets(n,t,i,"move")),this.pointerIsDown){if(a&&this.pointerWasMoved&&!u){this.checkAndPreventDefault(t,this.target,this.element);return}if(tu(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||n instanceof p&&/inertiastart/.test(n.type))){if(!this.interacting()&&(tu(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name==="drag")){var tt=Math.abs(y),rt=Math.abs(w),ut=this.target.options.drag.axis,h=tt>rt?"x":tt<rt?"y":"xy";if(h!=="xy"&&ut!=="xy"&&ut!==h){for(this.prepared.name=null,f=i;o(f);){if(e=l.get(f),e&&e!==this.target&&!e.options.drag.manualStart&&e.getAction(this.downPointer,this.downEvent,this,f).name==="drag"&&ou(h,e)){this.prepared.name="drag";this.target=e;this.element=f;break}f=d(f)}if(!this.prepared.name)for(s=this,et=function(n,t,r){var u=ni?r.querySelectorAll(t):undefined;if(n!==s.target)return wi(n,i)&&!n.options.drag.manualStart&&!pt(n,f,i)&&wt(n,f,i)&&ft(f,t,u)&&n.getAction(s.downPointer,s.downEvent,s,f).name==="drag"&&ou(h,n)&&ri(n,f,"drag")?n:void 0},f=i;o(f);){if(b=l.forEachSelector(et),b){this.prepared.name="drag";this.target=b;this.element=f;break}f=d(f)}}}if(c=!!this.prepared.name&&!this.interacting(),c&&(this.target.options[this.prepared.name].manualStart||!ri(this.target,this.element,this.prepared))){this.stop(t);return}this.prepared.name&&this.target&&(c&&this.start(this.prepared,this.target,this.element),ot=this.setModifications(this.curCoords.page,u),(ot||c)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element))}vi(this.prevCoords,this.curCoords);(this.dragging||this.resizing)&&this.autoScrollMove(n)}}},dragStart:function(n){var t=new p(this,n,"drag","start",this.element),i;return this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element),i=this.getDropEvents(n,t),i.activate&&this.fireActiveDrops(i.activate),t},dragMove:function(n){var u=this.target,i=new p(this,n,"drag","move",this.element),f=this.element,r=this.getDrop(i,n,f),t;return this.dropTarget=r.dropzone,this.dropElement=r.element,t=this.getDropEvents(n,i),u.fire(i),t.leave&&this.prevDropTarget.fire(t.leave),t.enter&&this.dropTarget.fire(t.enter),t.move&&this.dropTarget.fire(t.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(n){var r=new p(this,n,"resize","start",this.element),i,t;return this.prepared.edges&&(i=this.target.getRect(this.element),this.target.options.resize.square||this.target.options.resize.preserveAspectRatio?(t=s({},this.prepared.edges),t.top=t.top||t.left&&!t.bottom,t.left=t.left||t.top&&!t.right,t.bottom=t.bottom||t.right&&!t.top,t.right=t.right||t.bottom&&!t.left,this.prepared._linkedEdges=t):this.prepared._linkedEdges=null,this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=i.width/i.height),this.resizeRects={start:i,current:s({},i),restricted:s({},i),previous:s({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.rect=this.resizeRects.restricted,r.deltaRect=this.resizeRects.delta),this.target.fire(r),this.resizing=!0,r},resizeMove:function(n){var o=new p(this,n,"resize","move",this.element),u=this.prepared.edges,v=this.target.options.resize.invert,w=v==="reposition"||v==="negate",c,l,a;if(u){var f=o.dx,e=o.dy,h=this.resizeRects.start,r=this.resizeRects.current,t=this.resizeRects.restricted,y=this.resizeRects.delta,b=s(this.resizeRects.previous,t),i=u;this.target.options.resize.preserveAspectRatio?(c=this.resizeStartAspectRatio,u=this.prepared._linkedEdges,i.left&&i.bottom||i.right&&i.top?e=-f/c:i.left||i.right?e=f/c:(i.top||i.bottom)&&(f=e*c)):this.target.options.resize.square&&(u=this.prepared._linkedEdges,i.left&&i.bottom||i.right&&i.top?e=-f:i.left||i.right?e=f:(i.top||i.bottom)&&(f=e));u.top&&(r.top+=e);u.bottom&&(r.bottom+=e);u.left&&(r.left+=f);u.right&&(r.right+=f);w?(s(t,r),v==="reposition"&&(t.top>t.bottom&&(l=t.top,t.top=t.bottom,t.bottom=l),t.left>t.right&&(l=t.left,t.left=t.right,t.right=l))):(t.top=Math.min(r.top,h.bottom),t.bottom=Math.max(r.bottom,h.top),t.left=Math.min(r.left,h.right),t.right=Math.max(r.right,h.left));t.width=t.right-t.left;t.height=t.bottom-t.top;for(a in t)y[a]=t[a]-b[a];o.edges=this.prepared.edges;o.rect=t;o.deltaRect=y}return this.target.fire(o),o},gestureStart:function(n){var t=new p(this,n,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(n){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new p(this,n,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===Infinity||t.scale===null||t.scale===undefined||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerHold:function(n,t,i){this.collectEventTargets(n,t,i,"hold")},pointerUp:function(n,t,i,r){var u=this.mouse?0:v(this.pointerIds,it(n));clearTimeout(this.holdTimers[u]);this.collectEventTargets(n,t,i,"up");this.collectEventTargets(n,t,i,"tap");this.pointerEnd(n,t,i,r);this.removePointer(n)},pointerCancel:function(n,t,i,r){var u=this.mouse?0:v(this.pointerIds,it(n));clearTimeout(this.holdTimers[u]);this.collectEventTargets(n,t,i,"cancel");this.pointerEnd(n,t,i,r);this.removePointer(n)},ie8Dblclick:function(n,t,i){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(n,t,i,"tap"))},pointerEnd:function(n,t,i,r){var h,e=this.target,v=e&&e.options,w=v&&this.prepared.name&&v[this.prepared.name].inertia,u=this.inertiaStatus,f,a,rt,y,nt,tt,st,ut,o;if(this.interacting()){if(u.active&&!u.ending)return;var b,ft=(new Date).getTime(),it=!1,k=!1,et=!1,d=ar(e,this.prepared.name)&&v[this.prepared.name].snap.endOnly,g=vr(e,this.prepared.name)&&v[this.prepared.name].restrict.endOnly,c=0,l=0,ht;if(b=this.dragging?v.drag.axis==="x"?Math.abs(this.pointerDelta.client.vx):v.drag.axis==="y"?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,it=w&&w.enabled&&this.prepared.name!=="gesture"&&t!==u.startEvent,k=it&&ft-this.curCoords.timeStamp<50&&b>w.minSpeed&&b>w.endSpeed,it&&!k&&(d||g)&&(f={},f.snap=f.restrict=f,d&&(this.setSnapping(this.curCoords.page,f),f.locked&&(c+=f.dx,l+=f.dy)),g&&(this.setRestriction(this.curCoords.page,f),f.restricted&&(c+=f.dx,l+=f.dy)),(c||l)&&(et=!0)),k||et){vi(u.upCoords,this.curCoords);this.pointers[0]=u.startEvent=ht=new p(this,t,this.prepared.name,"inertiastart",this.element);u.t0=ft;e.fire(u.startEvent);k?(u.vx0=this.pointerDelta.client.vx,u.vy0=this.pointerDelta.client.vy,u.v0=b,this.calcInertia(u),a=s({},this.curCoords.page),rt=oi(e,this.element),a.x=a.x+u.xe-rt.x,a.y=a.y+u.ye-rt.y,y={useStatusXY:!0,x:a.x,y:a.y,dx:0,dy:0,snap:null},y.snap=y,c=l=0,d&&(nt=this.setSnapping(this.curCoords.page,y),nt.locked&&(c+=nt.dx,l+=nt.dy)),g&&(tt=this.setRestriction(this.curCoords.page,y),tt.restricted&&(c+=tt.dx,l+=tt.dy)),u.modifiedXe+=c,u.modifiedYe+=l,u.i=ot(this.boundInertiaFrame)):(u.smoothEnd=!0,u.xe=c,u.ye=l,u.sx=u.sy=0,u.i=ot(this.boundSmoothEndFrame));u.active=!0;return}(d||g)&&this.pointerMove(n,t,i,r,!0)}this.dragging?(h=new p(this,t,"drag","end",this.element),st=this.element,ut=this.getDrop(h,t,st),this.dropTarget=ut.dropzone,this.dropElement=ut.element,o=this.getDropEvents(t,h),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.drop&&this.dropTarget.fire(o.drop),o.deactivate&&this.fireActiveDrops(o.deactivate),e.fire(h)):this.resizing?(h=new p(this,t,"resize","end",this.element),e.fire(h)):this.gesturing&&(h=new p(this,t,"gesture","end",this.element),e.fire(h));this.stop(t)},collectDrops:function(n){var s=[],h=[],i,t,r,f,u,c,e;for(n=n||this.element,i=0;i<l.length;i++)if(l[i].options.drop.enabled&&(t=l[i],r=t.options.drop.accept,(!o(r)||r===n)&&(!tt(r)||ft(n,r))))for(f=t.selector?t._context.querySelectorAll(t.selector):[t._element],u=0,c=f.length;u<c;u++)(e=f[u],e!==n)&&(s.push(t),h.push(e));return{dropzones:s,elements:h}},fireActiveDrops:function(n){for(var r,i,u,t=0;t<this.activeDrops.dropzones.length;t++)r=this.activeDrops.dropzones[t],i=this.activeDrops.elements[t],i!==u&&(n.target=i,r.fire(n)),u=i},setActiveDrops:function(n){var i=this.collectDrops(n,!0),t;for(this.activeDrops.dropzones=i.dropzones,this.activeDrops.elements=i.elements,this.activeDrops.rects=[],t=0;t<this.activeDrops.dropzones.length;t++)this.activeDrops.rects[t]=this.activeDrops.dropzones[t].getRect(this.activeDrops.elements[t])},getDrop:function(n,t,i){var u=[],r;for(nr&&this.setActiveDrops(i),r=0;r<this.activeDrops.dropzones.length;r++){var o=this.activeDrops.dropzones[r],f=this.activeDrops.elements[r],s=this.activeDrops.rects[r];u.push(o.dropCheck(n,t,this.target,i,f,s)?f:null)}var e=uf(u),h=this.activeDrops.dropzones[e]||null,c=this.activeDrops.elements[e]||null;return{dropzone:h,element:c}},getDropEvents:function(n,t){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),t.type==="dragend"&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),t.type==="dragstart"&&(i.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),t.type==="dragend"&&(i.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),t.type==="dragmove"&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),i},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null;this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(n){var i,t;for(this.interacting()&&(u.stop(),this.matches=[],this.matchElements=[],i=this.target,i.options.styleCursor&&(i._doc.documentElement.style.cursor=""),n&&c(n.preventDefault)&&this.checkAndPreventDefault(n,i,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)),this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0,t=0;t<this.pointers.length;t++)v(this.pointerIds,it(this.pointers[t]))===-1&&this.pointers.splice(t,1)},inertiaFrame:function(){var n=this.inertiaStatus,u=this.target.options[this.prepared.name].inertia,f=u.resistance,r=(new Date).getTime()/1e3-n.t0,t,i;r<n.te?(t=1-(Math.exp(-f*r)-n.lambda_v0)/n.one_ve_v0,n.modifiedXe===n.xe&&n.modifiedYe===n.ye?(n.sx=n.xe*t,n.sy=n.ye*t):(i=tf(0,0,n.xe,n.ye,n.modifiedXe,n.modifiedYe,t),n.sx=i.x,n.sy=i.y),this.pointerMove(n.startEvent,n.startEvent),n.i=ot(this.boundInertiaFrame)):(n.ending=!0,n.sx=n.modifiedXe,n.sy=n.modifiedYe,this.pointerMove(n.startEvent,n.startEvent),this.pointerEnd(n.startEvent,n.startEvent),n.active=n.ending=!1)},smoothEndFrame:function(){var n=this.inertiaStatus,t=(new Date).getTime()-n.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<i?(n.sx=eu(t,0,n.xe,i),n.sy=eu(t,0,n.ye,i),this.pointerMove(n.startEvent,n.startEvent),n.i=ot(this.boundSmoothEndFrame)):(n.ending=!0,n.sx=n.xe,n.sy=n.ye,this.pointerMove(n.startEvent,n.startEvent),this.pointerEnd(n.startEvent,n.startEvent),n.smoothEnd=n.active=n.ending=!1)},addPointer:function(n){var i=it(n),t=this.mouse?0:v(this.pointerIds,i);return t===-1&&(t=this.pointerIds.length),this.pointerIds[t]=i,this.pointers[t]=n,t},removePointer:function(n){var i=it(n),t=this.mouse?0:v(this.pointerIds,i);t!==-1&&(this.pointers.splice(t,1),this.pointerIds.splice(t,1),this.downTargets.splice(t,1),this.downTimes.splice(t,1),this.holdTimers.splice(t,1))},recordPointer:function(n){var t=this.mouse?0:v(this.pointerIds,it(n));t!==-1&&(this.pointers[t]=n)},collectEventTargets:function(n,t,r,u){function c(n,t,i){var h=ni?i.querySelectorAll(t):undefined;n._iEvents[u]&&o(f)&&wi(n,f)&&!pt(n,f,r)&&wt(n,f,r)&&ft(f,t,h)&&(e.push(n),s.push(f))}var h=this.mouse?0:v(this.pointerIds,it(n));if(u!=="tap"||!this.pointerWasMoved&&this.downTargets[h]&&this.downTargets[h]===r){for(var e=[],s=[],f=r;f;)i.isSet(f)&&i(f)._iEvents[u]&&(e.push(i(f)),s.push(f)),l.forEachSelector(c),f=d(f);(e.length||u==="tap")&&this.firePointers(n,t,r,e,s,u)}},firePointers:function(n,t,i,r,u,f){var a=this.mouse?0:v(this.pointerIds,it(n)),e={},o,c,l,h;for(f==="doubletap"?e=n:(ai(e,t),t!==n&&ai(e,n),e.preventDefault=cu,e.stopPropagation=p.prototype.stopPropagation,e.stopImmediatePropagation=p.prototype.stopImmediatePropagation,e.interaction=this,e.timeStamp=(new Date).getTime(),e.originalEvent=t,e.originalPointer=n,e.type=f,e.pointerId=it(n),e.pointerType=this.mouse?"mouse":ui?tt(n.pointerType)?n.pointerType:[,,"touch","pen","mouse"][n.pointerType]:"touch"),f==="tap"&&(e.dt=e.timeStamp-this.downTimes[a],c=e.timeStamp-this.tapTime,l=!!(this.prevTap&&this.prevTap.type!=="doubletap"&&this.prevTap.target===e.target&&c<500),e.double=l,this.tapTime=e.timeStamp),o=0;o<r.length;o++)if(e.currentTarget=u[o],e.interactable=r[o],r[o].fire(e),e.immediatePropagationStopped||e.propagationStopped&&u[o+1]!==e.currentTarget)break;l?(h={},s(h,e),h.dt=c,h.type="doubletap",this.collectEventTargets(h,t,i,"doubletap"),this.prevTap=h):f==="tap"&&(this.prevTap=e)},validateSelector:function(n,t,i,r){for(var u=0,s=i.length;u<s;u++){var f=i[u],e=r[u],o=lt(f.getAction(n,t,this,e),f);if(o&&ri(f,e,o))return this.target=f,this.element=e,o}},setSnapping:function(n,t){var h=this.target.options[this.prepared.name].snap,p=[],u,r,f,w,v,o,l,i,b;for(t=t||this.snapStatus,t.useStatusXY?r={x:t.x,y:t.y}:(w=oi(this.target,this.element),r=s({},n),r.x-=w.x,r.y-=w.y),t.realX=r.x,t.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy,v=h.targets?h.targets.length:0,o=0;o<this.snapOffsets.length;o++)for(l={x:r.x-this.snapOffsets[o].x,y:r.y-this.snapOffsets[o].y},f=0;f<v;f++)(u=c(h.targets[f])?h.targets[f](l.x,l.y,this):h.targets[f],u)&&p.push({x:k(u.x)?u.x+this.snapOffsets[o].x:l.x,y:k(u.y)?u.y+this.snapOffsets[o].y:l.y,range:k(u.range)?u.range:h.range});for(i={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0},f=0,v=p.length;f<v;f++){u=p[f];var e=u.range,d=u.x-r.x,g=u.y-r.y,a=bt(d,g),y=a<=e;e===Infinity&&i.inRange&&i.range!==Infinity&&(y=!1);(!i.target||(y?i.inRange&&e!==Infinity?a/e<i.distance/i.range:e===Infinity&&i.range!==Infinity||a<i.distance:!i.inRange&&a<i.distance))&&(e===Infinity&&(y=!0),i.target=u,i.distance=a,i.range=e,i.inRange=y,i.dx=d,i.dy=g,t.range=e)}return i.target?(b=t.snappedX!==i.target.x||t.snappedY!==i.target.y,t.snappedX=i.target.x,t.snappedY=i.target.y):(b=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=i.dx,t.dy=i.dy,t.changed=b||i.inRange&&!t.locked,t.locked=i.inRange,t},setRestriction:function(n,t){var h=this.target,l=h&&h.options[this.prepared.name].restrict,i=l&&l.restriction,r,u,f,e;return i?(t=t||this.restrictStatus,r=r=t.useStatusXY?{x:t.x,y:t.y}:s({},n),t.snap&&t.snap.locked&&(r.x+=t.snap.dx||0,r.y+=t.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1,tt(i)&&(i=i==="parent"?d(this.element):i==="self"?h.getRect(this.element):lr(this.element,i),!i))?t:(c(i)&&(i=i(r.x,r.y,this.element)),o(i)&&(i=pi(i)),u=i,i?"x"in i&&"y"in i?(f=Math.max(Math.min(u.x+u.width-this.restrictOffset.right,r.x),u.x+this.restrictOffset.left),e=Math.max(Math.min(u.y+u.height-this.restrictOffset.bottom,r.y),u.y+this.restrictOffset.top)):(f=Math.max(Math.min(u.right-this.restrictOffset.right,r.x),u.left+this.restrictOffset.left),e=Math.max(Math.min(u.bottom-this.restrictOffset.bottom,r.y),u.top+this.restrictOffset.top)):(f=r.x,e=r.y),t.dx=f-r.x,t.dy=e-r.y,t.changed=t.restrictedX!==f||t.restrictedY!==e,t.restricted=!!(t.dx||t.dy),t.restrictedX=f,t.restrictedY=e,t):t},checkAndPreventDefault:function(n,t,i){if(t=t||this.target){var r=t.options,u=r.preventDefault;if(u==="auto"&&i&&!/^(input|select|textarea)$/i.test(n.target.nodeName)){if(/down|start/i.test(n.type)&&this.prepared.name==="drag"&&r.drag.axis!=="xy")return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;n.preventDefault();return}if(u==="always"){n.preventDefault();return}}},calcInertia:function(n){var i=this.target.options[this.prepared.name].inertia,t=i.resistance,r=-Math.log(i.endSpeed/n.v0)/t;n.x0=this.prevEvent.pageX;n.y0=this.prevEvent.pageY;n.t0=n.startEvent.timeStamp/1e3;n.sx=n.sy=0;n.modifiedXe=n.xe=(n.vx0-r)/t;n.modifiedYe=n.ye=(n.vy0-r)/t;n.te=r;n.lambda_v0=t/n.v0;n.one_ve_v0=1-i.endSpeed/n.v0},autoScrollMove:function(n){var f,e,o,s,r,t,i;if(this.interacting()&&rf(this.target,this.prepared.name)){if(this.inertiaStatus.active){u.x=u.y=0;return}r=this.target.options[this.prepared.name].autoScroll;t=r.container||ct(this.element);rr(t)?(s=n.clientX<u.margin,f=n.clientY<u.margin,e=n.clientX>t.innerWidth-u.margin,o=n.clientY>t.innerHeight-u.margin):(i=er(t),s=n.clientX<i.left+u.margin,f=n.clientY<i.top+u.margin,e=n.clientX>i.right-u.margin,o=n.clientY>i.bottom-u.margin);u.x=e?1:s?-1:0;u.y=o?1:f?-1:0;u.isScrolling||(u.margin=r.margin,u.speed=r.speed,u.start(this))}},_updateEventTargets:function(n,t){this._eventTarget=n;this._curEventTarget=t}},p.prototype={preventDefault:ei,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}},r={},yr=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],ki=0,di=yr.length;ki<di;ki++)pr=yr[ki],r[pr]=hu(pr);l.indexOfElement=function(n,t){var i,r;for(t=t||rt,i=0;i<this.length;i++)if(r=this[i],r.selector===n&&r._context===t||!r.selector&&r._element===n)return i;return-1};l.get=function(n,t){return this[this.indexOfElement(n,t&&t.context)]};l.forEachSelector=function(n){for(var i,r,t=0;t<this.length;t++)if((i=this[t],i.selector)&&(r=n(i,i.selector,i._context,t,this),r!==undefined))return r};a.prototype={setOnEvents:function(n,t){return n==="drop"?(c(t.ondrop)&&(this.ondrop=t.ondrop),c(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),c(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),c(t.ondragenter)&&(this.ondragenter=t.ondragenter),c(t.ondragleave)&&(this.ondragleave=t.ondragleave),c(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(n="on"+n,c(t.onstart)&&(this[n+"start"]=t.onstart),c(t.onmove)&&(this[n+"move"]=t.onmove),c(t.onend)&&(this[n+"end"]=t.onend),c(t.oninertiastart)&&(this[n+"inertiastart"]=t.oninertiastart)),this},draggable:function(n){return h(n)?(this.options.drag.enabled=n.enabled===!1?!1:!0,this.setPerAction("drag",n),this.setOnEvents("drag",n),/^x$|^y$|^xy$/.test(n.axis)?this.options.drag.axis=n.axis:n.axis===null&&delete this.options.drag.axis,this):b(n)?(this.options.drag.enabled=n,this):this.options.drag},setPerAction:function(n,t){for(var i in t)i in y[n]&&(h(t[i])?(this.options[n][i]=s(this.options[n][i]||{},t[i]),h(y.perAction[i])&&"enabled"in y.perAction[i]&&(this.options[n][i].enabled=t[i].enabled===!1?!1:!0)):b(t[i])&&h(y.perAction[i])?this.options[n][i].enabled=t[i]:t[i]!==undefined&&(this.options[n][i]=t[i]))},dropzone:function(n){return h(n)?(this.options.drop.enabled=n.enabled===!1?!1:!0,this.setOnEvents("drop",n),/^(pointer|center)$/.test(n.overlap)?this.options.drop.overlap=n.overlap:k(n.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,n.overlap),0)),"accept"in n&&(this.options.drop.accept=n.accept),"checker"in n&&(this.options.drop.checker=n.checker),this):b(n)?(this.options.drop.enabled=n,this):this.options.drop},dropCheck:function(n,t,i,r,u,f){var o=!1,h,s,c,v,y,e,l,a,p,w;return(f=f||this.getRect(u))?(h=this.options.drop.overlap,h==="pointer"&&(s=ur(n),c=oi(i,r),s.x+=c.x,s.y+=c.y,v=s.x>f.left&&s.x<f.right,y=s.y>f.top&&s.y<f.bottom,o=v&&y),e=i.getRect(r),h==="center"&&(l=e.left+e.width/2,a=e.top+e.height/2,o=l>=f.left&&l<=f.right&&a>=f.top&&a<=f.bottom),k(h)&&(p=Math.max(0,Math.min(f.right,e.right)-Math.max(f.left,e.left))*Math.max(0,Math.min(f.bottom,e.bottom)-Math.max(f.top,e.top)),w=p/(e.width*e.height),o=w>=h),this.options.drop.checker&&(o=this.options.drop.checker(n,t,o,this,u,i,r)),o):this.options.drop.checker?this.options.drop.checker(n,t,o,this,u,i,r):!1},dropChecker:function(n){return c(n)?(this.options.drop.checker=n,this):n===null?(delete this.options.getRect,this):this.options.drop.checker},accept:function(n){return o(n)?(this.options.drop.accept=n,this):ii(n)?(this.options.drop.accept=n,this):n===null?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(n){return h(n)?(this.options.resize.enabled=n.enabled===!1?!1:!0,this.setPerAction("resize",n),this.setOnEvents("resize",n),/^x$|^y$|^xy$/.test(n.axis)?this.options.resize.axis=n.axis:n.axis===null&&(this.options.resize.axis=y.resize.axis),b(n.preserveAspectRatio)?this.options.resize.preserveAspectRatio=n.preserveAspectRatio:b(n.square)&&(this.options.resize.square=n.square),this):b(n)?(this.options.resize.enabled=n,this):this.options.resize},squareResize:function(n){return b(n)?(this.options.resize.square=n,this):n===null?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(n){return h(n)?(this.options.gesture.enabled=n.enabled===!1?!1:!0,this.setPerAction("gesture",n),this.setOnEvents("gesture",n),this):b(n)?(this.options.gesture.enabled=n,this):this.options.gesture},autoScroll:function(n){return h(n)?n=s({actions:["drag","resize"]},n):b(n)&&(n={actions:["drag","resize"],enabled:n}),this.setOptions("autoScroll",n)},snap:function(n){var t=this.setOptions("snap",n);return t===this?this:t.drag},setOptions:function(n,t){var e=t&&ti(t.actions)?t.actions:["drag"],u,o,r,c,f;if(h(t)||b(t)){for(u=0;u<e.length;u++)(o=/resize/.test(e[u])?"resize":e[u],h(this.options[o]))&&(r=this.options[o][n],h(t)?(s(r,t),r.enabled=t.enabled===!1?!1:!0,n==="snap"&&(r.mode==="grid"?r.targets=[i.createSnapGrid(s({offset:r.gridOffset||{x:0,y:0}},r.grid||{}))]:r.mode==="anchor"?r.targets=r.anchors:r.mode==="path"&&(r.targets=r.paths),"elementOrigin"in t&&(r.relativePoints=[t.elementOrigin]))):b(t)&&(r.enabled=t));return this}for(c={},f=["drag","resize","gesture"],u=0;u<f.length;u++)n in y[f[u]]&&(c[f[u]]=this.options[f[u]][n]);return c},inertia:function(n){var t=this.setOptions("inertia",n);return t===this?this:t.drag},getAction:function(n,t,i,r){var u=this.defaultActionChecker(n,i,r);return this.options.actionChecker?this.options.actionChecker(n,t,u,this,r,i):u},defaultActionChecker:au,actionChecker:function(n){return c(n)?(this.options.actionChecker=n,this):n===null?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(n){return n=n||this._element,this.selector&&!o(n)&&(n=this._context.querySelector(this.selector)),pi(n)},rectChecker:function(n){return c(n)?(this.getRect=n,this):n===null?(delete this.options.getRect,this):this.getRect},styleCursor:function(n){return b(n)?(this.options.styleCursor=n,this):n===null?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(n){return/^(always|never|auto)$/.test(n)?(this.options.preventDefault=n,this):b(n)?(this.options.preventDefault=n?"always":"never",this):this.options.preventDefault},origin:function(n){return ii(n)?(this.options.origin=n,this):h(n)?(this.options.origin=n,this):this.options.origin},deltaSource:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource},restrict:function(n){var r,u,t,i,f;if(!h(n))return this.setOptions("restrict",n);for(r=["drag","resize","gesture"],t=0;t<r.length;t++)i=r[t],i in n&&(f=s({actions:[i],restriction:n[i]},n),u=this.setOptions("restrict",f));return u},context:function(){return this._context},_context:rt,ignoreFrom:function(n){return ii(n)?(this.options.ignoreFrom=n,this):o(n)?(this.options.ignoreFrom=n,this):this.options.ignoreFrom},allowFrom:function(n){return ii(n)?(this.options.allowFrom=n,this):o(n)?(this.options.allowFrom=n,this):this.options.allowFrom},element:function(){return this._element},fire:function(n){if(!(n&&n.type)||!st(vt,n.type))return this;var i,t,r,u="on"+n.type,f="";if(n.type in this._iEvents)for(i=this._iEvents[n.type],t=0,r=i.length;t<r&&!n.immediatePropagationStopped;t++)f=i[t].name,i[t](n);if(c(this[u])&&(f=this[u].name,this[u](n)),n.type in et&&(i=et[n.type]))for(t=0,r=i.length;t<r&&!n.immediatePropagationStopped;t++)f=i[t].name,i[t](n);return this},on:function(n,i,r){var u,o,f,e;if(tt(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),ti(n)){for(u=0;u<n.length;u++)this.on(n[u],i,r);return this}if(h(n)){for(o in n)this.on(o,n[o],i);return this}if(n==="wheel"&&(n=dr),r=r?!0:!1,st(vt,n))n in this._iEvents?this._iEvents[n].push(i):this._iEvents[n]=[i];else if(this.selector){if(!nt[n])for(nt[n]={selectors:[],contexts:[],listeners:[]},u=0;u<dt.length;u++)t.add(dt[u],n,si),t.add(dt[u],n,gi,!0);for(f=nt[n],e=f.selectors.length-1;e>=0;e--)if(f.selectors[e]===this.selector&&f.contexts[e]===this._context)break;e===-1&&(e=f.selectors.length,f.selectors.push(this.selector),f.contexts.push(this._context),f.listeners.push([]));f.listeners[e].push([i,r])}else t.add(this._element,n,i,r);return this},off:function(n,i,r){var f,s,c,u,e,l,o,a,y;if(tt(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),ti(n)){for(f=0;f<n.length;f++)this.off(n[f],i,r);return this}if(h(n)){for(s in n)this.off(s,n[s],i);return this}if(u=-1,r=r?!0:!1,n==="wheel"&&(n=dr),st(vt,n))c=this._iEvents[n],c&&(u=v(c,i))!==-1&&this._iEvents[n].splice(u,1);else if(this.selector){if(e=nt[n],l=!1,!e)return this;for(u=e.selectors.length-1;u>=0;u--)if(e.selectors[u]===this.selector&&e.contexts[u]===this._context){for(o=e.listeners[u],f=o.length-1;f>=0;f--)if(a=o[f][0],y=o[f][1],a===i&&y===r){o.splice(f,1);o.length||(e.selectors.splice(u,1),e.contexts.splice(u,1),e.listeners.splice(u,1),t.remove(this._context,n,si),t.remove(this._context,n,gi,!0),e.selectors.length||(nt[n]=null));l=!0;break}if(l)break}}else t.remove(this._element,n,i,r);return this},set:function(n){var i,u,r;h(n)||(n={});this.options=s({},y.base);for(var f=["drag","drop","resize","gesture"],e=["draggable","dropzone","resizable","gesturable"],o=s(s({},y.perAction),n[i]||{}),t=0;t<f.length;t++)i=f[t],this.options[i]=s({},y[i]),this.setPerAction(i,o),this[e[t]](n[i]);for(u=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"],t=0,di=u.length;t<di;t++)r=u[t],this.options[r]=y.base[r],r in n&&this[r](n[r]);return this},unset:function(){var u,n,r;if(t.remove(this._element,"all"),tt(this.selector))for(u in nt)for(n=nt[u],r=0;r<n.selectors.length;r++){n.selectors[r]===this.selector&&n.contexts[r]===this._context&&(n.selectors.splice(r,1),n.contexts.splice(r,1),n.listeners.splice(r,1),n.selectors.length||(nt[u]=null));t.remove(this._context,u,si);t.remove(this._context,u,gi,!0);break}else t.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),l.splice(v(l,this),1),i}};a.prototype.snap=g(a.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping");a.prototype.restrict=g(a.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction");a.prototype.inertia=g(a.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia");a.prototype.autoScroll=g(a.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll");a.prototype.squareResize=g(a.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square");a.prototype.accept=g(a.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead");a.prototype.dropChecker=g(a.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead");a.prototype.context=g(a.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead");i.isSet=function(n,t){return l.indexOfElement(n,t&&t.context)!==-1};i.on=function(n,r,u){var f,e;if(tt(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),ti(n)){for(f=0;f<n.length;f++)i.on(n[f],r,u);return i}if(h(n)){for(e in n)i.on(e,n[e],r);return i}return st(vt,n)?et[n]?et[n].push(r):et[n]=[r]:t.add(rt,n,r,u),i};i.off=function(n,r,u){var f,e,o;if(tt(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),ti(n)){for(f=0;f<n.length;f++)i.off(n[f],r,u);return i}if(h(n)){for(e in n)i.off(e,n[e],r);return i}return st(vt,n)?n in et&&(o=v(et[n],r))!==-1&&et[n].splice(o,1):t.remove(rt,n,r,u),i};i.enableDragging=g(function(n){return n!==null&&n!==undefined?(ut.drag=n,i):ut.drag},"interact.enableDragging is deprecated and will soon be removed.");i.enableResizing=g(function(n){return n!==null&&n!==undefined?(ut.resize=n,i):ut.resize},"interact.enableResizing is deprecated and will soon be removed.");i.enableGesturing=g(function(n){return n!==null&&n!==undefined?(ut.gesture=n,i):ut.gesture},"interact.enableGesturing is deprecated and will soon be removed.");i.eventTypes=vt;i.debug=function(){var n=e[0]||new bi;return{interactions:e,target:n.target,dragging:n.dragging,resizing:n.resizing,gesturing:n.gesturing,prepared:n.prepared,matches:n.matches,matchElements:n.matchElements,prevCoords:n.prevCoords,startCoords:n.startCoords,pointerIds:n.pointerIds,pointers:n.pointers,addPointer:r.addPointer,removePointer:r.removePointer,recordPointer:r.recordPointer,snap:n.snapStatus,restrict:n.restrictStatus,inertia:n.inertiaStatus,downTime:n.downTimes[0],downEvent:n.downEvent,downPointer:n.downPointer,prevEvent:n.prevEvent,Interactable:a,interactables:l,pointerIsDown:n.pointerIsDown,defaultOptions:y,defaultActionChecker:au,actionCursors:ci,dragMove:r.dragMove,resizeMove:r.resizeMove,gestureMove:r.gestureMove,pointerUp:r.pointerUp,pointerDown:r.pointerDown,pointerMove:r.pointerMove,pointerHover:r.pointerHover,eventTypes:vt,events:t,globalEvents:et,delegatedEvents:nt,prefixedPropREs:li}};i.getPointerAverage=uu;i.getTouchBBox=sr;i.getTouchDistance=hr;i.getTouchAngle=cr;i.getElementRect=pi;i.getElementClientRect=er;i.matchesSelector=ft;i.closest=lr;i.margin=g(function(n){return k(n)?(fi=n,i):fi},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead.");i.supportsTouch=function(){return gt};i.supportsPointerEvent=function(){return ui};i.stop=function(n){for(var t=e.length-1;t>=0;t--)e[t].stop(n);return i};i.dynamicDrop=function(n){return b(n)?(nr=n,i):nr};i.pointerMoveTolerance=function(n){return k(n)?(tr=n,this):tr};i.maxInteractions=function(n){return k(n)?(hi=n,this):hi};i.createSnapGrid=function(n){return function(t,i){var r=0,u=0;h(n.offset)&&(r=n.offset.x,u=n.offset.y);var f=Math.round((t-r)/n.x),e=Math.round((i-u)/n.y),o=f*n.x+r,s=e*n.y+u;return{x:o,y:s,range:n.range}}};yu(rt);ir in Element.prototype&&c(Element.prototype[ir])||(ni=function(n,t,i){i=i||n.parentNode.querySelectorAll(t);for(var r=0,u=i.length;r<u;r++)if(i[r]===n)return!0;return!1}),function(){for(var r=0,i=["ms","moz","webkit","o"],t=0;t<i.length&&!n.requestAnimationFrame;++t)ot=n[i[t]+"RequestAnimationFrame"],ht=n[i[t]+"CancelAnimationFrame"]||n[i[t]+"CancelRequestAnimationFrame"];ot||(ot=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-r)),u=setTimeout(function(){n(t+i)},i);return r=t+i,u});ht||(ht=function(n){clearTimeout(n)})}();typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=i),exports.interact=i):typeof define=="function"&&define.amd?define("interact",function(){return i}):n.interact=i}}(typeof window=="undefined"?undefined:window),function(n){n.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function g(t){var t,i,f;l&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0),t.preventDefault&&!o&&t.preventDefault(),o||(t.returnValue=!1))}function h(n,t,i){var s,l,h;o=!1;s=n;l=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),l),s=n>0?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,h=s/u[0].scrollHeight*u.outerHeight(),h=Math.min(Math.max(h,0),l),f.css({top:h+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);tt();c()}function ot(n){window.addEventListener?(n.addEventListener("DOMMouseScroll",g,!1),n.addEventListener("mousewheel",g,!1)):document.attachEvent("onmousewheel",g)}function nt(){a=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),et);f.css({height:a+"px"});var n=a==u.outerHeight()?"none":"block";f.css({display:n})}function tt(){if(nt(),clearTimeout(it),e==~~e){if(o=r.allowPageScroll,rt!=e){var n=~~e==0?"top":"bottom";u.trigger("slimscroll",n)}}else o=!1;if(rt=e,a>=u.outerHeight()){o=!0;return}f.stop(!0,!0).fadeIn("fast");r.railVisible&&s.stop(!0,!0).fadeIn("fast")}function c(){r.alwaysVisible||(it=setTimeout(function(){r.disableFadeOut&&l||y||p||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var l,y,p,it,w,a,e,rt,b="<div><\/div>",et=30,o=!1,u=n(this),v,k,d,ut;if(u.parent().hasClass(r.wrapperClass)){if(v=u.scrollTop(),f=u.siblings("."+r.barClass),s=u.siblings("."+r.railClass),nt(),n.isPlainObject(i)){if("height"in i&&i.height=="auto"?(u.parent().css("height","auto"),u.css("height","auto"),k=u.parent().parent().height(),u.parent().css("height",k),u.css("height",k)):"height"in i&&(d=i.height,u.parent().css("height",d),u.css("height",d)),"scrollTo"in i)v=parseInt(r.scrollTo);else if("scrollBy"in i)v+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(v,!1,!0)}return}if(!n.isPlainObject(i)||!("destroy"in i)){r.height=r.height=="auto"?u.parent().height():r.height;ut=n(b).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n(b).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n(b).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),ft=r.position=="right"?{right:r.distance}:{left:r.distance};s.css(ft);f.css(ft);u.wrap(ut);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return p=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){p=!1;c();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){tt()},function(){c()});f.hover(function(){y=!0},function(){y=!1});u.hover(function(){l=!0;tt();c()},function(){l=!1;c()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(w=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(o||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(w-n.originalEvent.touches[0].pageY)/r.touchScrollStep;h(t,!0);w=n.originalEvent.touches[0].pageY}});nt();r.start==="bottom"?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):r.start!=="top"&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());ot(this)}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})}(jQuery),typeof jQuery=="undefined")throw new Error("AdminLTE requires jQuery");$.AdminLTE={};$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}};$(function(){"use strict";$("body").removeClass("hold-transition");typeof AdminLTEOptions!="undefined"&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var n=$.AdminLTE.options;if(_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),n.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),n.navbarMenuSlimscroll&&typeof $.fn.slimscroll!="undefined"&&$(".navbar .menu").slimscroll({height:n.navbarMenuHeight,alwaysVisible:!1,size:n.navbarMenuSlimscrollWidth}).css("width","100%"),n.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(n.sidebarToggleSelector),n.enableBSToppltip&&$("body").tooltip({selector:n.BSTooltipSelector}),n.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),n.enableFastclick&&typeof FastClick!="undefined"&&FastClick.attach(document.body),n.directChat.enable)$(document).on("click",n.directChat.contactToggleSelector,function(){var n=$(this).parents(".direct-chat").first();n.toggleClass("direct-chat-contacts-open")});$('.btn-group[data-toggle="btn-toggle"]').each(function(){var n=$(this);$(this).find(".btn").on("click",function(t){n.find(".btn.active").removeClass("active");$(this).addClass("active");t.preventDefault()})})}),function(n){"use strict";n.fn.boxRefresh=function(t){function u(n){n.append(r);i.onLoadStart.call(n)}function f(n){n.find(r).remove();i.onLoadDone.call(n)}var i=n.extend({trigger:".refresh-btn",source:"",onLoadStart:function(n){return n},onLoadDone:function(n){return n}},t),r=n('<div class="overlay"><div class="fa fa-refresh fa-spin"><\/div><\/div>');return this.each(function(){if(i.source===""){window.console&&window.console.log("Please specify a source first - boxRefresh()");return}var t=n(this),r=t.find(i.trigger).first();r.on("click",function(n){n.preventDefault();u(t);t.find(".box-body").load(i.source,function(){f(t)})})})}}(jQuery),function(n){"use strict";n.fn.activateBox=function(){n.AdminLTE.boxWidget.activate(this)};n.fn.toggleBox=function(){var t=n(n.AdminLTE.boxWidget.selectors.collapse,this);n.AdminLTE.boxWidget.collapse(t)};n.fn.removeBox=function(){var t=n(n.AdminLTE.boxWidget.selectors.remove,this);n.AdminLTE.boxWidget.remove(t)}}(jQuery),function(n){"use strict";n.fn.todolist=function(t){var i=n.extend({onCheck:function(n){return n},onUncheck:function(n){return n}},t);return this.each(function(){if(typeof n.fn.iCheck!="undefined"){n("input",this).on("ifChecked",function(){var t=n(this).parents("li").first();t.toggleClass("done");i.onCheck.call(t)});n("input",this).on("ifUnchecked",function(){var t=n(this).parents("li").first();t.toggleClass("done");i.onUncheck.call(t)})}else n("input",this).on("change",function(){var t=n(this).parents("li").first();t.toggleClass("done");n("input",t).is(":checked")?i.onCheck.call(t):i.onUncheck.call(t)})})}}(jQuery);app.factory("CloakService",[function(){return{apply:function(){$("#main-content").css("display","none !important")},remove:function(){$("#main-content").css("display","block !important")}}}]);!function(n,t,i){"use strict";var u=function(){return"lfobjyxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0,i="x"==n?t:3&t|8;return i.toString(16)})},f=function(n){var t=n.type,i=n.name;return e(t,i)?"image":o(t,i)?"video":s(t,i)?"audio":"object"},e=function(n,t){return!(!n.match("image.*")&&!t.match(/\.(gif|png|jpe?g)$/i))},o=function(n,t){return!(!n.match("video.*")&&!t.match(/\.(og?|mp4|webm|3gp)$/i))},s=function(n,t){return!(!n.match("audio.*")&&!t.match(/\.(ogg|mp3|wav)$/i))},h=function(t){return{key:u(),lfFile:t,lfFileName:t.name,lfFileType:t.type,lfTagType:f(t),lfDataUrl:n.URL.createObjectURL(t),isRemote:!1}},c=function(n,t,i){var r={name:t,type:i};return{key:u(),lfFile:void 0,lfFileName:t,lfFileType:i,lfTagType:f(r),lfDataUrl:n,isRemote:!0}},r=t.module("lfNgMdFileInput",["ngMaterial"]);r.directive("lfFile",function(){return{restrict:"E",scope:{lfFileObj:"=",lfUnknowClass:"="},link:function(n,t){var i=n.lfFileObj.lfDataUrl,r=n.lfFileObj.lfFileType,u=n.lfFileObj.lfTagType,f=n.lfUnknowClass;switch(u){case"image":t.replaceWith('<img src="'+i+'" />');break;case"video":t.replaceWith('<video controls><source src="'+i+'""><\/video>');break;case"audio":t.replaceWith('<audio controls><source src="'+i+'""><\/audio>');break;default:void 0==n.lfFileObj.lfFile&&(r="unknown/unknown");t.replaceWith('<object type="'+r+'" data="'+i+'"><div class="lf-ng-md-file-input-preview-default"><md-icon class="lf-ng-md-file-input-preview-icon '+f+'"><\/md-icon><\/div><\/object>')}}}});r.run(["$templateCache",function(n){n.put("lfNgMdFileinput.html",['<div layout="column" class="lf-ng-md-file-input" ng-model="'+u()+'">','<div layout="column" class="lf-ng-md-file-input-preview-container" ng-class="{\'disabled\':isDisabled}" ng-show="isDrag || (isPreview && lfFiles.length)">','<md-button aria-label="remove all files" class="close lf-ng-md-file-input-x" ng-click="removeAllFiles($event)" ng-hide="!lfFiles.length || !isPreview" >&times;<\/md-button>','<div class="lf-ng-md-file-input-drag">','<div layout="row" layout-align="center center" class="lf-ng-md-file-input-drag-text-container" ng-show="(!lfFiles.length || !isPreview) && isDrag">','<div class="lf-ng-md-file-input-drag-text">{{strCaptionDragAndDrop}}<\/div>',"<\/div>",'<div class="lf-ng-md-file-input-thumbnails" ng-if="isPreview == true">','<div class="lf-ng-md-file-input-frame" ng-repeat="lffile in lfFiles" ng-click="onFileClick(lffile)">','<div class="lf-ng-md-file-input-x" aria-label="remove {{lffile.lFfileName}}" ng-click="removeFile(lffile,$event)">&times;<\/div>','<lf-file lf-file-obj="lffile" lf-unknow-class="strUnknowIconCls"/>','<div class="lf-ng-md-file-input-frame-footer">','<div class="lf-ng-md-file-input-frame-caption">{{lffile.lfFileName}}<\/div>',"<\/div>","<\/div>","<\/div>",'<div class="clearfix" style="clear:both"><\/div>',"<\/div>","<\/div>",'<div layout="row" class="lf-ng-md-file-input-container" >','<div class="lf-ng-md-file-input-caption" layout="row" layout-align="start center" flex ng-class="{\'disabled\':isDisabled}" >','<md-icon class="lf-icon" ng-class="strCaptionIconCls"><\/md-icon>','<div flex class="lf-ng-md-file-input-caption-text-default" ng-show="!lfFiles.length">',"{{strCaptionPlaceholder}}","<\/div>",'<div flex class="lf-ng-md-file-input-caption-text" ng-hide="!lfFiles.length">','<span ng-if="isCustomCaption">{{strCaption}}<\/span>','<span ng-if="!isCustomCaption">','{{ lfFiles.length == 1 ? lfFiles[0].lfFileName : lfFiles.length+" files selected" }}',"<\/span>","<\/div>",'<md-progress-linear md-mode="determinate" value="{{floatProgress}}" ng-show="intLoading && isProgress"><\/md-progress-linear>',"<\/div>",'<md-button aria-label="remove all files" ng-disabled="isDisabled" ng-click="removeAllFiles()" ng-hide="!lfFiles.length || intLoading" class="md-raised lf-ng-md-file-input-button lf-ng-md-file-input-button-remove" ng-class="strRemoveButtonCls">','<md-icon class="lf-icon" ng-class="strRemoveIconCls"><\/md-icon> ',"{{strCaptionRemove}}","<\/md-button>",'<md-button aria-label="submit" ng-disabled="isDisabled" ng-click="onSubmitClick()" class="md-raised md-warn lf-ng-md-file-input-button lf-ng-md-file-input-button-submit" ng-class="strSubmitButtonCls" ng-show="lfFiles.length && !intLoading && isSubmit">','<md-icon class="lf-icon" ng-class="strSubmitIconCls"><\/md-icon> ',"{{strCaptionSubmit}}","<\/md-button>",'<md-button aria-label="browse" ng-disabled="isDisabled" ng-click="openDialog($event, this)" class="md-raised lf-ng-md-file-input-button lf-ng-md-file-input-button-brower" ng-class="strBrowseButtonCls">','<md-icon class="lf-icon" ng-class="strBrowseIconCls"><\/md-icon> ',"{{strCaptionBrowse}}",'<input type="file" aria-label="{{strAriaLabel}}" accept="{{accept}}" ng-disabled="isDisabled" class="lf-ng-md-file-input-tag" />',"<\/md-button>","<\/div>","<\/div>"].join(""))}]);r.filter("lfTrusted",["$sce",function(n){return function(t){return n.trustAsResourceUrl(t)}}]);r.directive("lfRequired",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){r&&(r.$validators.required=function(n){return n?n.length>0:!1})}}});r.directive("lfMaxcount",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("lfMaxcount",function(n){var t=parseInt(n,10);u=isNaN(t)?-1:t;r.$validate()});r.$validators.maxcount=function(n){return n?n.length<=u:!1}}}}});r.directive("lfFilesize",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("lfFilesize",function(n){var t=/^[1-9][0-9]*(Byte|KB|MB)$/;if(t.test(n)){var i=n.match(t)[1],f=n.substring(0,n.indexOf(i));["Byte","KB","MB"].every(function(n,t){return i===n?(u=parseInt(f)*Math.pow(1024,t),!1):!0})}else u=-1;r.$validate()});r.$validators.filesize=function(n){if(!n)return!1;var t=!0;return n.every(function(n){return n.lfFile.size>u?(t=!1,!1):!0}),t}}}}});r.directive("lfTotalsize",function(){return{restrict:"A",require:"ngModel",link:function(n,i,r,u){if(u){var f=-1;r.$observe("lfTotalsize",function(n){var t=/^[1-9][0-9]*(Byte|KB|MB)$/;if(t.test(n)){var i=n.match(t)[1],r=n.substring(0,n.indexOf(i));["Byte","KB","MB"].every(function(n,t){return i===n?(f=parseInt(r)*Math.pow(1024,t),!1):!0})}else f=-1;u.$validate()});u.$validators.totalsize=function(n){if(!n)return!1;var i=0;return t.forEach(n,function(n){i+=n.lfFile.size}),f>i}}}}});r.directive("lfMimetype",function(){return{restrict:"A",require:"ngModel",link:function(n,t,r,u){if(u){var f;r.$observe("lfMimetype",function(n){var t=n.replace(/,/g,"|");f=new RegExp(t,"i");u.$validate()});u.$validators.mimetype=function(n){if(!n)return!1;var t=!0;return n.every(function(n){return n.lfFile!==i&&n.lfFile.type.match(f)?!0:(t=!1,!1)}),t}}}}});r.directive("lfNgMdFileInput",["$q","$compile","$timeout",function(n,r,u){return{restrict:"E",templateUrl:"lfNgMdFileinput.html",replace:!0,require:"ngModel",scope:{lfFiles:"=?",lfApi:"=?",lfOption:"=?",lfCaption:"@?",lfPlaceholder:"@?",lfDragAndDropLabel:"@?",lfBrowseLabel:"@?",lfRemoveLabel:"@?",lfSubmitLabel:"@?",lfOnFileClick:"=?",lfOnSubmitClick:"=?",lfOnFileRemove:"=?",accept:"@?",ngDisabled:"=?",ngChange:"&?"},link:function(r,f,e,o){var a=t.element(f[0].querySelector(".lf-ng-md-file-input-tag")),l=t.element(f[0].querySelector(".lf-ng-md-file-input-drag")),w=t.element(f[0].querySelector(".lf-ng-md-file-input-thumbnails")),s=0;r.intLoading=0;r.floatProgress=0;r.isPreview=!1;r.isDrag=!1;r.isMutiple=!1;r.isProgress=!1;r.isCustomCaption=!1;r.isSubmit=!1;t.isDefined(e.preview)&&(r.isPreview=!0);t.isDefined(e.drag)&&(r.isDrag=!0);t.isDefined(e.multiple)?(a.attr("multiple","multiple"),r.isMutiple=!0):a.removeAttr("multiple");t.isDefined(e.progress)&&(r.isProgress=!0);t.isDefined(e.submit)&&(r.isSubmit=!0);r.isDisabled=!1;t.isDefined(e.ngDisabled)&&r.$watch("ngDisabled",function(n){r.isDisabled=n});r.strBrowseIconCls="lf-browse";r.strRemoveIconCls="lf-remove";r.strCaptionIconCls="lf-caption";r.strSubmitIconCls="lf-submit";r.strUnknowIconCls="lf-unknow";r.strBrowseButtonCls="md-primary";r.strRemoveButtonCls="";r.strSubmitButtonCls="md-accent";t.isDefined(e.lfOption)&&t.isObject(r.lfOption)&&(r.lfOption.hasOwnProperty("browseIconCls")&&(r.strBrowseIconCls=r.lfOption.browseIconCls),r.lfOption.hasOwnProperty("removeIconCls")&&(r.strRemoveIconCls=r.lfOption.removeIconCls),r.lfOption.hasOwnProperty("captionIconCls")&&(r.strCaptionIconCls=r.lfOption.captionIconCls),r.lfOption.hasOwnProperty("unknowIconCls")&&(r.strUnknowIconCls=r.lfOption.unknowIconCls),r.lfOption.hasOwnProperty("submitIconCls")&&(r.strSubmitIconCls=r.lfOption.submitIconCls),r.lfOption.hasOwnProperty("strBrowseButtonCls")&&(r.strBrowseButtonCls=r.lfOption.strBrowseButtonCls),r.lfOption.hasOwnProperty("strRemoveButtonCls")&&(r.strRemoveButtonCls=r.lfOption.strRemoveButtonCls),r.lfOption.hasOwnProperty("strSubmitButtonCls")&&(r.strSubmitButtonCls=r.lfOption.strSubmitButtonCls));r.accept=r.accept||"";r.lfFiles=[];r[e.ngModel]=r.lfFiles;r.lfApi=new function(){var n=this;n.removeAll=function(){r.removeAllFiles()};n.removeByName=function(n){r.removeFileByName(n)};n.addRemoteFile=function(n,t,i){var u=c(n,t,i);r.lfFiles.push(u)}};r.strCaption="";r.strCaptionPlaceholder="Selecione o arquivo";r.strCaptionDragAndDrop="Arraste e solte arquivos aqui...";r.strCaptionBrowse="Arquivos";r.strCaptionRemove="Remover";r.strCaptionSubmit="Enviar";r.strAriaLabel="";t.isDefined(e.ariaLabel)&&(r.strAriaLabel=e.ariaLabel);t.isDefined(e.lfPlaceholder)&&r.$watch("lfPlaceholder",function(n){r.strCaptionPlaceholder=n});t.isDefined(e.lfCaption)&&(r.isCustomCaption=!0,r.$watch("lfCaption",function(n){r.strCaption=n}));r.lfDragAndDropLabel&&(r.strCaptionDragAndDrop=r.lfDragAndDropLabel);r.lfBrowseLabel&&(r.strCaptionBrowse=r.lfBrowseLabel);r.lfRemoveLabel&&(r.strCaptionRemove=r.lfRemoveLabel);r.lfSubmitLabel&&(r.strCaptionSubmit=r.lfSubmitLabel);r.openDialog=function(n){n&&u(function(){n.preventDefault();n.stopPropagation();var t=n.target.children[2];t!==i&&a[0].click()},0)};r.removeAllFilesWithoutVaildate=function(){r.isDisabled||(r.lfFiles.length=0,w.empty())};r.removeAllFiles=function(){r.removeAllFilesWithoutVaildate();v()};r.removeFileByName=function(n){r.isDisabled||(r.lfFiles.every(function(t,i){return t.lfFileName==n?(r.lfFiles.splice(i,1),!1):!0}),v())};r.removeFile=function(n){r.lfFiles.every(function(i,u){return i.key==n.key?(t.isFunction(r.lfOnFileRemove)&&r.lfOnFileRemove(i,u),r.lfFiles.splice(u,1),!1):!0});v()};r.onFileClick=function(n){t.isFunction(r.lfOnFileClick)&&r.lfFiles.every(function(t,i){return t.key==n.key?(r.lfOnFileClick(t,i),!1):!0})};r.onSubmitClick=function(){t.isFunction(r.lfOnSubmitClick)&&r.lfOnSubmitClick(r.lfFiles)};l.bind("dragover",function(n){n.stopPropagation();n.preventDefault();!r.isDisabled&&r.isDrag&&l.addClass("lf-ng-md-file-input-drag-hover")});l.bind("dragleave",function(n){n.stopPropagation();n.preventDefault();!r.isDisabled&&r.isDrag&&l.removeClass("lf-ng-md-file-input-drag-hover")});l.bind("drop",function(n){if(n.stopPropagation(),n.preventDefault(),!r.isDisabled&&r.isDrag){l.removeClass("lf-ng-md-file-input-drag-hover");t.isObject(n.originalEvent)&&(n=n.originalEvent);var u=n.target.files||n.dataTransfer.files,f=r.accept.replace(/,/g,"|"),e=new RegExp(f,"i"),i=[];t.forEach(u,function(n){n.type.match(e)&&i.push(n)});y(i)}});a.bind("change",function(n){var t=n.files||n.target.files;y(t)});var y=function(n){var t,i;if(!(n.length<=0)){if(r.lfFiles.map(function(n){return n.lfFileName}),r.floatProgress=0,r.isMutiple)for(s=n.length,r.intLoading=s,t=0;t<n.length;t++)i=n[t],setTimeout(p(i),100*t);else for(s=1,r.intLoading=s,t=0;t<n.length;t++){i=n[t];r.removeAllFilesWithoutVaildate();p(i);break}a.val("")}},v=function(){t.isFunction(r.ngChange)&&r.ngChange();o.$validate()},p=function(n){b(n).then(function(){var t=!1,u;(r.lfFiles.every(function(r){var u=r.lfFile;return r.isRemote?!0:u.name!==i&&u.name==n.name?(u.size==n.size&&u.lastModified==n.lastModified&&(t=!0),!1):!0}),t)||(u=h(n),r.lfFiles.push(u));0==r.intLoading&&v()},function(){},function(){})},b=function(t,i){var f=n.defer(),u=new FileReader;return u.onloadstart=function(){f.notify(0)},u.onload=function(){},u.onloadend=function(){f.resolve({index:i,result:u.result});r.intLoading--;r.floatProgress=(s-r.intLoading)/s*100},u.onerror=function(){f.reject(u.result);r.intLoading--;r.floatProgress=(s-r.intLoading)/s*100},u.onprogress=function(n){f.notify(n.loaded/n.total)},u.readAsArrayBuffer(t),f.promise}}}}])}(window,window.angular)